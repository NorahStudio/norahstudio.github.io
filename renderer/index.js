(()=>{var t,e={9550:t=>{t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}},6601:t=>{t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},6820:t=>{t.exports=function(t,e){var r=e[0],o=e[1],n=r*r+o*o;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}},8854:t=>{t.exports=function(t,e,r){return t[0]=e,t[1]=r,t}},3650:t=>{t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}},582:(t,e,r)=>{var o=r(9550),n=r(8854),i=r(6820),a=r(3650),s=r(6601),u=[0,0];t.exports.computeMiter=function(t,e,r,a,l){return o(t,r,a),i(t,t),n(e,-t[1],t[0]),n(u,-r[1],r[0]),l/s(e,u)},t.exports.normal=function(t,e){return n(t,-e[1],e[0]),t},t.exports.direction=function(t,e,r){return a(t,e,r),i(t,t),t}},4773:(t,e,r)=>{var o=r(582),n=[0,0],i=[0,0],a=[0,0],s=[0,0];function u(t,e,r){t.push([[e[0],e[1]],r])}t.exports=function(t,e){var r=null,l=[];e&&(t=t.slice()).push(t[0]);for(var c=t.length,h=1;h<c;h++){var d=t[h-1],f=t[h],p=h<t.length-1?t[h+1]:null;if(o.direction(n,f,d),r||(r=[0,0],o.normal(r,n)),1===h&&u(l,r,1),p){o.direction(i,p,f);var g=o.computeMiter(a,s,n,i,1);u(l,s,g)}else o.normal(r,n),u(l,r,1)}if(t.length>2&&e){var _=t[c-2],m=t[0],y=t[1];o.direction(n,m,_),o.direction(i,y,m),o.normal(r,n);var v=o.computeMiter(a,s,n,i,1);l[0][0]=s.slice(),l[c-1][0]=s.slice(),l[0][1]=v,l[c-1][1]=v,l.pop()}return l}},3466:function(t){var e;t.exports=((e=function(){function t(t){return n.appendChild(t.dom),t}function r(t){for(var e=0;e<n.children.length;e++)n.children[e].style.display=e===t?"block":"none";o=t}var o=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(t){t.preventDefault(),r(++o%n.children.length)}),!1);var i=(performance||Date).now(),a=i,s=0,u=t(new e.Panel("FPS","#0ff","#002")),l=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:n,addPanel:t,showPanel:r,begin:function(){i=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-i,200),t>a+1e3&&(u.update(1e3*s/(t-a),100),a=t,s=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){i=this.end()},domElement:n,setMode:r}}).Panel=function(t,e,r){var o=1/0,n=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,u=48*a,l=3*a,c=2*a,h=3*a,d=15*a,f=74*a,p=30*a,g=document.createElement("canvas");g.width=s,g.height=u,g.style.cssText="width:80px;height:48px";var _=g.getContext("2d");return _.font="bold "+9*a+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=r,_.fillRect(0,0,s,u),_.fillStyle=e,_.fillText(t,l,c),_.fillRect(h,d,f,p),_.fillStyle=r,_.globalAlpha=.9,_.fillRect(h,d,f,p),{dom:g,update:function(u,m){o=Math.min(o,u),n=Math.max(n,u),_.fillStyle=r,_.globalAlpha=1,_.fillRect(0,0,s,d),_.fillStyle=e,_.fillText(i(u)+" "+t+" ("+i(o)+"-"+i(n)+")",l,c),_.drawImage(g,h+a,d,f-a,p,h,d,f-a,p),_.fillRect(h+f-a,d,a,p),_.fillStyle=r,_.globalAlpha=.9,_.fillRect(h+f-a,d,a,i((1-u/m)*p))}}},e)},5141:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENABLE_VIEWPORT_ROTATION=e.USE_PRESERVE_DRAWING_BUFFER=e.PIXEL_PERFECT=e.MIN_ZOOM_SCALE=e.MAX_ZOOM_SCALE=e.ZOOM_OUT_RATIO=e.ZOOM_IN_RATIO=void 0,e.ZOOM_IN_RATIO=.07,e.ZOOM_OUT_RATIO=-.07,e.MAX_ZOOM_SCALE=256,e.MIN_ZOOM_SCALE=.03,e.PIXEL_PERFECT=!0,e.USE_PRESERVE_DRAWING_BUFFER=!1,e.ENABLE_VIEWPORT_ROTATION=!0},9415:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FillType=e.StrokeType=void 0;var n,i,a=o(r(8139)),s=o(r(6731)),u=o(r(9767)),l=o(r(6433)),c=r(3088),h=r(9950),d=r(4148);!function(t){t.SOLID="SOLID",t.LINEAR="LINEAR",t.BACKGROUND_IMAGE="BACKGROUND_IMAGE"}(n=e.StrokeType||(e.StrokeType={})),function(t){t.SOLID="SOLID",t.LINEAR="LINEAR",t.IMAGE="IMAGE",t.BACKGROUND_IMAGE="BACKGROUND_IMAGE"}(i=e.FillType||(e.FillType={}));var f=function(){function t(t,e){this._gl=t,this._resourceLoader=e,this._id=(0,h.uuidv4)(),this._x=0,this._y=0,this.zIndex=0,this._width=0,this._height=0,this._rotation=0,this._fills=[],this._strokes=[],this._effects=[],this._localTransform=[],this._absolute=[],this._fillPath=[],this._fillPathCount=0,this._strokePath=[],this._strokePathCount=0,this._strokeWidth=0,this._strokePosition=c.StrokePosition.CENTER,this._parent=void 0,this._children=[]}return t.prototype.setX=function(t){this._x=t,this.updateLocalTransform()},t.prototype.setY=function(t){this._y=t,this.updateLocalTransform()},t.prototype.setWidth=function(t){this._width=t,this.updateLocalTransform()},t.prototype.getWidth=function(){return this._width},t.prototype.setHeight=function(t){this._height=t,this.updateLocalTransform()},t.prototype.getHeight=function(){return this._height},t.prototype.getRotation=function(){return this._rotation},t.prototype.setRotation=function(t){var e=(0,c.getReferencePointWithRotation)(this._x,this._y,this._width,this._height,this._rotation,t),r=e.x,o=e.y;this._rotation=t,this._x=r,this._y=o,this.updateLocalTransform()},t.prototype.setDimension=function(t){var e=t.x,r=t.y,o=t.width,n=t.height,i=t.rotation;void 0!==e&&(this._x=e),void 0!==r&&(this._y=r),void 0!==o&&(this._width=o),void 0!==n&&(this._height=n),void 0!==i&&(this._rotation=i),this.updateLocalTransform()},t.prototype.updateLocalTransform=function(){var t=h.m4.translation(this._x,this._y,this.zIndex);this._rotation&&(t=h.m4.zRotate(t,(0,h.degToRad)(this._rotation))),this._localTransform=t,this._absolute=this._localTransform,this._parent&&this._parent._localTransform&&(this._absolute=h.m4.multiply(this._parent._absolute,this._absolute));for(var e=0;e<this._fills.length;e++){var r=this._fills[e];d.TypeChecker.checkExists(r.shader).setLocalTransform(this._absolute)}for(e=0;e<this._strokes.length;e++){var o=this._strokes[e];d.TypeChecker.checkExists(o.shader).setLocalTransform(this._absolute)}},t.prototype.setParent=function(t){this._parent=t,this.updateLocalTransform()},t.prototype.prepareVertex=function(){if(this.updateFillPath(),this._fillArray)for(var t=0;t<this._fills.length;t++){var e=this._fills[t];d.TypeChecker.checkState(null!=e.shader),e.shader.setPositionVertices(this._fillArray),e.shader.setPathCount(this._fillPathCount),e.shader.setPrimitiveType(this._gl.TRIANGLE_FAN),e.shader.setLocalTransform(this._absolute),("IMAGE"===e.type||"BACKGROUND_IMAGE"===e.type)&&(null==(o=this._resourceLoader.getResource(e.resourceId))?void 0:o.texture)&&e.shader.setTexture(o.texture)}if(this.updateStrokePath(),this._strokeArray)for(t=0;t<this._strokes.length;t++){var r=this._strokes[t];if(d.TypeChecker.checkState(null!=r.shader),r.shader.setPositionVertices(this._strokeArray),r.shader.setPathCount(this._strokePathCount),r.shader.setPrimitiveType(this._gl.TRIANGLE_STRIP),r.shader.setLocalTransform(this._absolute),"BACKGROUND_IMAGE"===r.type){var o=this._resourceLoader.getResource(r.resourceId);r.shader.setTexture(d.TypeChecker.checkExists(o).texture)}}},t.prototype.render=function(t){this.renderFills(t),this.renderStrokes(t)},t.prototype.addFill=function(t){var e=this._gl;switch(t.type){case i.SOLID:t.shader=new a.default(e),t.shader.setColor(t.color);break;case i.LINEAR:t.shader=new s.default(e);break;case i.IMAGE:t.shader=new u.default(e);break;case i.BACKGROUND_IMAGE:t.shader=new l.default(e),t.shader.setDimension(this._width,this._height)}this._fills.push(t)},t.prototype.renderFills=function(t){if(this._fills.length)for(var e=0;e<this._fills.length;e++){var r=this._fills[e];d.TypeChecker.checkState(null!=r.shader),r.shader.setViewportTransform(t),r.shader.draw()}},t.prototype.addStroke=function(t){var e=this._gl;switch(t.type){case n.SOLID:t.shader=new a.default(e),t.shader.setColor(t.color);break;case n.LINEAR:t.shader=new s.default(e);break;case n.BACKGROUND_IMAGE:t.shader=new l.default(e),t.shader.setDimension(this._width,this._height)}this._strokes.push(t)},t.prototype.renderStrokes=function(t){if(this._strokes.length&&this._strokeWidth)for(var e=0;e<this._strokes.length;e++){var r=this._strokes[e];d.TypeChecker.checkState(null!=r.shader),r.shader.setViewportTransform(t),r.shader.draw()}},t.prototype.getStrokeWidth=function(){return this._strokeWidth},t.prototype.setStrokeWidth=function(t){this._strokeWidth=t},t.prototype.getStrokePosition=function(){return this._strokePosition},t.prototype.setStrokePosition=function(t){this._strokePosition=t},t.prototype.updateStrokePath=function(){0!==this._strokeWidth&&0!==this._strokes.length&&(this._strokePath=(0,c.getStrokePath)(this._fillPath,this._strokeWidth,this._strokePosition),this._strokeArray=new Float32Array(this._strokePath),this._strokePathCount=this._strokePath.length/2)},t}();e.default=f},130:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundType=void 0;var a,s=i(r(9415)),u=i(r(8139)),l=i(r(6731)),c=i(r(9767)),h=i(r(9698)),d=i(r(6433)),f=r(4148);!function(t){t.SOLID="SOLID",t.LINEAR="LINEAR",t.IMAGE="IMAGE",t.BACKGROUND_IMAGE="BACKGROUND_IMAGE"}(a=e.BackgroundType||(e.BackgroundType={}));var p=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o._maskShader=new h.default(o._gl),o._clipContent=!0,o._backgrounds=[],o._backgroundPath=[],o._backgroundPathCount=0,o}return n(e,t),e.prototype.updateBackgroundPath=function(){var t=this._width,e=this._height;this._backgroundPath=[0,0,t,0,t,e,0,e],this._backgroundArray=new Float32Array(this._backgroundPath),this._backgroundPathCount=this._backgroundPath.length/2},e.prototype.setRotation=function(e){t.prototype.setRotation.call(this,e);for(var r=0;r<this._backgrounds.length;r++){var o=this._backgrounds[r];f.TypeChecker.checkExists(o.shader).setLocalTransform(this._absolute)}this._maskShader.setLocalTransform(this._absolute);for(var n=0,i=this._children;n<i.length;n++)i[n].updateLocalTransform()},e.prototype.prepareVertex=function(){if(this.updateBackgroundPath(),this._backgroundArray)for(var t=0;t<this._backgrounds.length;t++){var e=this._backgrounds[t];if(f.TypeChecker.checkState(null!=e.shader),e.shader.setPositionVertices(this._backgroundArray),e.shader.setPathCount(this._backgroundPathCount),e.shader.setPrimitiveType(this._gl.TRIANGLE_FAN),e.shader.setLocalTransform(this._absolute),"IMAGE"===e.type||"BACKGROUND_IMAGE"===e.type){var r=this._resourceLoader.getResource(e.resourceId);e.shader.setTexture(f.TypeChecker.checkExists(r).texture)}}for(var o=0,n=this._children;o<n.length;o++)n[o].prepareVertex();this._backgroundArray&&(this._maskShader.setPositionVertices(this._backgroundArray),this._maskShader.setPathCount(this._backgroundPathCount),this._maskShader.setPrimitiveType(this._gl.TRIANGLE_FAN),this._maskShader.setLocalTransform(this._absolute))},e.prototype.addBackground=function(t){var e=this._gl;switch(t.type){case a.SOLID:t.shader=new u.default(e),t.shader.setColor(t.color);break;case a.LINEAR:t.shader=new l.default(e);break;case a.IMAGE:t.shader=new c.default(e);break;case a.BACKGROUND_IMAGE:t.shader=new d.default(e),t.shader.setDimension(this._width,this._height)}this._backgrounds.push(t)},e.prototype.addChild=function(t){this._children.push(t),t.setParent(this)},e.prototype.clipContent=function(t){void 0===t&&(t=!0),this._clipContent=t},e.prototype.setOrientationMode=function(){},e.prototype.resizeToFit=function(){},e.prototype.renderBackgrounds=function(t){for(var e=0;e<this._backgrounds.length;e++){var r=this._backgrounds[e];f.TypeChecker.checkState(null!=r.shader),r.shader.setViewportTransform(t),r.shader.draw()}},e.prototype.render=function(t){this.renderBackgrounds(t);var e=this._gl;this._clipContent&&(e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,255),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),this._maskShader.setViewportTransform(t),this._maskShader.draw(),e.enable(e.STENCIL_TEST),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP));for(var r=0,o=this._children;r<o.length;r++)o[r].render(t);this._clipContent&&e.disable(e.STENCIL_TEST)},e.prototype.updateFillPath=function(){},e}(s.default);e.default=p},3207:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(9415)),s=r(9950),u=function(t){function e(e,r,o){void 0===o&&(o=3);var n=t.call(this,e,r)||this;return n._pointCount=o,n}return n(e,t),e.prototype.getPointCount=function(){return this._pointCount},e.prototype.setPointCount=function(t){this._pointCount=t},e.prototype.updateFillPath=function(){var t=this._pointCount,e=360/t,r=this._width,o=this._height;this._fillPath=[];for(var n=0+r/2,i=0+o/2,a=0;a<t;a++){var u=(0,s.degToRad)(e*a),l=n+Math.sin(u)*r/2,c=i-Math.cos(u)*o/2;this._fillPath.push(l,c)}this._fillArray=new Float32Array(this._fillPath),this._fillPathCount=this._fillPath.length/2},e}(a.default);e.default=u},7271:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.updateFillPath=function(){var t=this._width,e=this._height;this._fillPath=[0,0,t,0,t,e,0,e],this._fillArray=new Float32Array(this._fillPath),this._fillPathCount=this._fillPath.length/2},e}(i(r(9415)).default);e.default=a},4410:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.updateFillPath=function(){var t=this._width,e=this._height;this._fillPath=[t/2,0,t,e,0,e],this._fillArray=new Float32Array(this._fillPath),this._fillPathCount=this._fillPath.length/2},e}(i(r(9415)).default);e.default=a},3088:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencePointWithRotationWithoutMatrix=e.getReferencePointWithRotation=e.getCenterPoint=e.getStrokePath=e.StrokePosition=void 0;var n,i=o(r(4773)),a=r(9950);function s(t,e,r){var o=(0,a.degToRad)(t),n=Math.cos(o),i=Math.sin(o);return[(n*e-i*r)/2,(i*e+n*r)/2]}(n=e.StrokePosition||(e.StrokePosition={}))[n.INNER=0]="INNER",n[n.CENTER=.5]="CENTER",n[n.OUTTER=1]="OUTTER",e.getStrokePath=function(t,e,r){for(var o=[],n=0;n<t.length;n+=2)o.push([t[n],t[n+1]]);var a=(0,i.default)(o,!0),s=[];for(n=0;n<a.length;n++){var u=o[n][0],l=o[n][1],c=a[n],h=c[0][0],d=c[0][1],f=c[1],p=h*e*f,g=d*e*f;s.push(u-p*r,l-g*r,u+p*(1-r),l+g*(1-r))}return s.push(s[0],s[1]),s.push(s[2],s[3]),s},e.getCenterPoint=s,e.getReferencePointWithRotation=function(t,e,r,o,n,i){var u=s(n,r,o),l=a.m4.translation(t+u[0],e+u[1],0);return l=a.m4.zRotate(l,(0,a.degToRad)(i-n)),{x:(l=a.m4.translate(l,-u[0],-u[1],0))[12],y:l[13]}},e.getReferencePointWithRotationWithoutMatrix=function(t,e,r,o,n,i){var u=s(n,r,o),l=(0,a.degToRad)(i),c=Math.sqrt(Math.pow(r,2)+Math.pow(o,2))/2,h=Math.atan2(r,o),d=l+1.5*Math.PI-h,f=c*Math.cos(d),p=c*Math.sin(d);return{x:t+f+u[0],y:e+p+u[1]}}},1483:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HUD=void 0;var n=o(r(3466)),i=function(){function t(){this._stats=new n.default}return t.prototype.init=function(){this._stats.showPanel(1),this._stats.dom.id="hudPanel",document.body.appendChild(this._stats.dom)},t.prototype.show=function(){this._stats.dom.style.display="block"},t.prototype.hide=function(){this._stats.dom.style.display="none"},t.prototype.statBegin=function(){this._stats.begin()},t.prototype.statEnd=function(){this._stats.end()},t}();e.HUD=i},5459:function(t,e,r){"use strict";var o=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1483),s=i(r(7475)),u=r(4248),l=i(r(1348)),c=window;c._debug||(c._debug={}),window.addEventListener("load",(function(){var t;return o(this,void 0,void 0,(function(){var e,r,o,i,h,d,f,p,g,_,m,y,v,b,x,w;return n(this,(function(n){switch(n.label){case 0:if(e=document.getElementById("canvas"),!(r=(0,u.getSceneLoader)())){for((o=document.createElement("pre")).textContent='\n    ### INSTRUCTIONS\n\n    Each link below provides different rendering demonstrations.\n\n    1. Use two-finger pan gesture to move the viewport\n    2. Use two-finger resize gesture to zoom in/out. Alternatively, you can use CMD key + two-finger pan gesture to zoom in/out.\n    3. Press "H" key to toggle UIs.\n\n    Enjoy it!\n\n    ### NOTES\n\n    Comparing with Multi-draw Rendering, Batch Rendering uses lesser draw calls to communicate with GPU. Hence, Batch Rendering has better rendering performance generally.\n    ',document.body.appendChild(o),i=(0,u.getSceneList)(),e.style.display="none",h=document.createElement("ul"),d=0,f=i;d<f.length;d++)p=f[d],(g=document.createElement("a")).textContent=p.desc,g.href="".concat(location.origin+location.pathname,"?sceneName=").concat(p.name),(_=document.createElement("li")).classList.add("renderer-item"),_.appendChild(g),h.appendChild(_);return document.body.appendChild(h),[2]}return null==(m=document.getElementById("loading"))||m.classList.remove("hidden"),[4,new Promise((function(t){return setTimeout(t,1)}))];case 1:return n.sent(),y=new a.HUD,v=s.default.create(e,r,y),c._debug.renderer=v,c._debug.showGlInfo=function(){return console.log(v.getGlInfo())},[4,v.init()];case 2:return n.sent(),e.addEventListener("wheel",(function(t){t.preventDefault(),t.stopPropagation(),t.metaKey||t.altKey||t.ctrlKey?v.zoom(-t.deltaY,t.clientX,t.clientY):v.panTo(-t.deltaX,-t.deltaY)})),window.addEventListener("resize",(function(){v.maybeResizeCanvas()&&v.drawScene()})),(null===(t=null==r?void 0:r.config)||void 0===t?void 0:t.autoPlay)?(b=function(){v.drawScene(),requestAnimationFrame(b)})():v.drawScene(),null==m||m.classList.add("hidden"),new l.default(v).init(["angleX","angleZ","scaleZ"]),x=!0,w=document.getElementById("uiContainer"),window.addEventListener("keypress",(function(t){"h"===t.key&&((x=!x)?(y.show(),w&&(w.style.display="block")):(y.hide(),w&&(w.style.display="none")))})),[2]}}))}))}))},1028:function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,n)}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return n(e,t),e},a=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var o,n=0,i=e.length;n<i;n++)!o&&n in e||(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseElement=e.BatchRendering=void 0;var c=r(4148),h=l(r(561)),d=l(r(4092)),f=r(2920),p=i(r(2276)),g=r(6395),_=function(){function t(t,e,r,o){this._resourceLoader=t,this._gl=e,this._glExt=o,this.isVboDirty=!1;var n=this._gl,i=this._glExt;this.quadVa=c.TypeChecker.checkExists(i.createVertexArray()),i.bindVertexArray(this.quadVa);var a=r({gl:this._gl,resourceLoader:this._resourceLoader}),s=a.elements,u=a.animationStep;this.resourceLoading=this._resourceLoader.load();var l=this.appendElements(s),g=l.vertices,_=l.indices,m=l.textures;this.quadVb=c.TypeChecker.checkExists(n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,this.quadVb),this.vertices=g,n.bufferData(n.ARRAY_BUFFER,this.vertices,n.DYNAMIC_DRAW),this.quadIb=c.TypeChecker.checkExists(n.createBuffer()),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quadIb),this.indices=_,n.bufferData(n.ELEMENT_ARRAY_BUFFER,this.indices,n.DYNAMIC_DRAW);var y=c.TypeChecker.checkExists(p.createProgramFromSources(this._gl,{VERTEX_SHADER:d.default,FRAGMENT_SHADER:h.default,programId:"BatchRendering"},[],[]));this.program=y,this.setupVertexAttributes([{name:"aVertexPosition",size:3},{name:"aVertexColor",size:4},{name:"aTextureIndex",size:1},{name:"aVertexTextureCoords",size:2}],y),this.uViewportTransform=(0,f.initUniformMatrix4fv)(this._gl,this.program,"uViewportTransform"),this.uTextures=(0,f.initUniformTextures)(this._gl,this.program,"uTextures"),this.uTextures.value=m,u&&this.resourceLoading.then((function(){var t=function(e){u(e),requestAnimationFrame(t)};requestAnimationFrame(t)}))}return t.prototype.appendElements=function(t){for(var e=this,r=[],o=0,n=0,i=[],a=new y,s=this._gl,u=function(t){r.push.apply(r,t.vertices);var u=n;t.bindVertexUpdater((function(t){e.updateVertices([{offset:u,value:t}])})),i.push.apply(i,t.indices.map((function(t){return t+o}))),o+=t.verticesNumber,n+=t.vertices.length;var c=t.textureResourceId;if(null==c)return"continue";var h=l._resourceLoader.getResource(c);if(null==h)return"continue";var d=a.has(c),f=a.put(c,h);l.resourceLoading.then((function(){if(t.update({textureIndex:f}),!d&&h instanceof g.VideoResource&&h.options.autoPlay){var e=function(){s.activeTexture(s.TEXTURE0+f),h.update(),requestAnimationFrame(e)};requestAnimationFrame(e)}}))},l=this,c=0,h=t;c<h.length;c++)u(h[c]);return{vertices:new Float32Array(r),indices:new Int32Array(i),textures:a.values().map((function(t){return t.texture}))}},t.prototype.init=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return console.log("batch rendering init"),[4,this.resourceLoading];case 1:return t.sent(),[2]}}))}))},t.prototype.updateVertices=function(t){for(var e=0,r=t;e<r.length;e++)for(var o=r[e],n=o.offset,i=o.value,a=0;a<i.length;a++)this.vertices[n+a]=i[a];this.isVboDirty=!0},t.prototype.render=function(t){var e=this._gl,r=this._glExt;e.useProgram(this.program),t&&(this.uViewportTransform.value=t),this.uViewportTransform.apply(),this.uTextures.apply(),r.bindVertexArray(this.quadVa),this.isVboDirty&&(e.bindBuffer(e.ARRAY_BUFFER,this.quadVb),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),this.isVboDirty=!1),e.drawElements(e.TRIANGLES,this.indices.length,e.UNSIGNED_INT,0),r.bindVertexArray(null)},t.prototype.setupVertexAttributes=function(t,e){for(var r=this._gl,o=0,n=t.reduce((function(t,e){return t+4*e.size}),0),i=0,a=t;i<a.length;i++){var s=a[i],u=s.name,l=s.size,c=r.getAttribLocation(e,u);r.enableVertexAttribArray(c),r.vertexAttribPointer(c,l,r.FLOAT,!1,n,o),o+=4*l}},t}();e.BatchRendering=_;var m=function(){function t(t){var e=t.dimension,r=t.type,o=t.colors,n=t.textureResourceId,i=t.textureIndex,a=t.textureCoords;this.dimension=e;var s=e.x,l=e.y,c=e.width,h=e.height;this.colors=o,this.textureResourceId=n;var d=null!=i?i:-1;this.textureIndex=d;var f=null!=a?a:[0,0];this.textureCoords=f,this._vertices=u(u(u(u(u(u(u(u([s,l,0],this.getColorVertices(o[0]),!0),[d,f[0],f[1],s+c,l,0],!1),this.getColorVertices(o[1]),!0),[d,f[2],f[3],s+c,l+h,0],!1),this.getColorVertices(o[2]),!0),[d,f[4],f[5],s,l+h,0],!1),this.getColorVertices(o[3]),!0),[d,f[6],f[7]],!1),this._verticesNumber=4,this._indices=[0,1,2,2,3,0],this.type=r}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this._vertices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesNumber",{get:function(){return this._verticesNumber},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indices",{get:function(){return this._indices},enumerable:!1,configurable:!0}),t.prototype.update=function(t){var e=t.dimension,r=t.colors,o=t.textureIndex,n=t.textureCoords;e&&(this.dimension=e),r&&(this.colors=r),null!=o&&(this.textureIndex=o),n&&(this.textureCoords=n);var i=this.dimension,a=i.x,s=i.y,l=i.width,c=i.height,h=this.textureIndex,d=this.textureCoords;this._vertices=u(u(u(u(u(u(u(u([a,s,0],this.getColorVertices(this.colors[0]),!0),[h,d[0],d[1],a+l,s,0],!1),this.getColorVertices(this.colors[1]),!0),[h,d[2],d[3],a+l,s+c,0],!1),this.getColorVertices(this.colors[2]),!0),[h,d[4],d[5],a,s+c,0],!1),this.getColorVertices(this.colors[3]),!0),[h,d[6],d[7]],!1),this._updateVerticesBuffer?this._updateVerticesBuffer(this._vertices):console.warn("Try to update an element without binding a vertex updater")},t.prototype.bindVertexUpdater=function(t){this._updateVerticesBuffer=t},t.prototype.getColorVertices=function(t){return[t.r,t.g,t.b,t.a]},t}();e.BaseElement=m;var y=function(){function t(){this.map=new Map,this.orderedValues=[]}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.put=function(t,e){var r=this.getIndex(t);if(null!=r)return r;var o=this.orderedValues.length;return this.map.set(t,o),this.orderedValues.push(e),o},t.prototype.values=function(){return this.orderedValues},t.prototype.getIndex=function(t){return this.map.get(t)},t}()},9563:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlExtensions=void 0;var o=r(4148);e.getGlExtensions=function(t){var e=o.TypeChecker.checkExists(t.getExtension("OES_vertex_array_object"));return o.TypeChecker.checkExists(t.getExtension("OES_element_index_uint")),{createVertexArray:function(){return e.createVertexArrayOES()},bindVertexArray:function(t){return e.bindVertexArrayOES(t)}}}},7475:function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,n)}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return n(e,t),e},a=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=u(r(8411)),c=r(6395),h=i(r(2276)),d=r(5141),f=r(9950),p=r(4148),g=r(1028),_=r(2672),m=r(4248),y=r(9563),v=function(){function t(t,e,r,o){void 0===o&&(o={enableGrid:!0,enableRetina:!0}),this._gl=t,this.rendering=e,this._hud=r,this.config=o,this._translation=[],this._rotation=[],this._scale=[];var n=this._gl;n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.enable(n.BLEND)}return t.create=function(e,r,o){var n="webgl",i=p.TypeChecker.checkExists(e.getContext(n,{preserveDrawingBuffer:d.USE_PRESERVE_DRAWING_BUFFER,stencil:!0}),"Failed to initialize canvas context: ".concat(n)),a=(0,y.getGlExtensions)(i),s=new c.ResourceLoader(i);switch(r.scene){case"gradientBox":case"gradientBoxAndMovies":case"quad2m":case"textureFiltering":return new t(i,new g.BatchRendering(s,i,r.loader,a),o);case m.SceneName.multiShaders:case m.SceneName.rotation:case m.SceneName.shape10kDemo:case m.SceneName.simpleAniDemo:case m.SceneName.strokeDemo:var u=r.loader({gl:i,resourceLoader:s}),l=new t(i,new _.MultiDrawRendering(i,a,s,u.dataArray),o);if(u.animationStep){var h=u.animationStep,f=function(t){h(t),l.drawScene(),!0!==window._anistop&&window.requestAnimationFrame(f)};setTimeout((function(){window.requestAnimationFrame(f)}),2e3)}return l;default:throw new Error("No suitable rendering method")}},t.prototype.maybeResizeCanvas=function(){var t=this._gl,e=h.resizeCanvasToDisplaySize(t.canvas,this.config.enableRetina?window.devicePixelRatio:1);return e&&t.viewport(0,0,t.canvas.width,t.canvas.height),e},t.prototype.initViewport=function(){var t=this._gl;this.maybeResizeCanvas(),console.log(t.canvas.width),console.log(t.canvas.height),this._translation=[t.canvas.width/2/window.devicePixelRatio,t.canvas.height/2/window.devicePixelRatio,0],this._rotation=[(0,f.degToRad)(0),(0,f.degToRad)(0),(0,f.degToRad)(0)],this._scale=[1,1,1],this.clear()},t.prototype.clear=function(){var t=this._gl;t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},t.prototype.init=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this._hud.init(),this.config.enableGrid&&(this._gridShader=new l.default(this._gl)),this.initViewport(),[4,this.rendering.init()];case 1:return t.sent(),[2]}}))}))},t.prototype.getTranslation=function(){return this._translation},t.prototype.getRotation=function(){return this._rotation},t.prototype.getScale=function(){return this._scale},t.prototype.drawScene=function(){this._hud.statBegin();var t=this._gl,e=f.m4.orthographic(0,t.canvas.clientWidth,t.canvas.clientHeight,0,600,-600),r=this.getTranslation();if(e=f.m4.translate(e,r[0],r[1],r[2]),d.ENABLE_VIEWPORT_ROTATION){var o=this.getRotation();e=f.m4.xRotate(e,o[0]),e=f.m4.yRotate(e,o[1]),e=f.m4.zRotate(e,o[2])}var n=this.getScale();e=f.m4.scale(e,n[0],n[1],n[2]),this.clear(),this.rendering.render(e,n),n[0]>4&&this._gridShader&&(this._gridShader.setGridDimension({zoomScale:n[0],offsetX:r[0],offsetY:r[1],canvasClientHeight:t.canvas.clientHeight,pitch:n[0]>10?1:10}),this._gridShader.draw()),this._hud.statEnd()},t.prototype.panTo=function(t,e){var r=this.getTranslation();r[0]+=t,r[1]+=e,this.drawScene()},t.prototype.updateVertices=function(t,e){this.rendering.updateVertices(t),e&&this.drawScene()},t.prototype.zoom=function(t,e,r){var o=this.getScale(),n=t>0?d.ZOOM_IN_RATIO:d.ZOOM_OUT_RATIO,i=o[0]*(1+n);if(!(i>d.MAX_ZOOM_SCALE||i<d.MIN_ZOOM_SCALE)){var a=this.getTranslation(),s=(e-a[0])*n,u=(r-a[1])*n;a[0]-=s,a[1]-=u,o[0]=i,o[1]=i,this.drawScene()}},t.prototype.getGlInfo=function(){var t=this._gl;if(t instanceof WebGL2RenderingContext)return{MAX_ELEMENT_INDEX:t.getParameter(t.MAX_ELEMENT_INDEX),MAX_ELEMENTS_VERTICES:t.getParameter(t.MAX_ELEMENTS_VERTICES),MAX_ELEMENTS_INDICES:t.getParameter(t.MAX_ELEMENTS_INDICES),MAX_TEXTURE_IMAGE_UNITS:t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)};if(t instanceof WebGLRenderingContext)return{MAX_TEXTURE_IMAGE_UNITS:t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)};throw new Error("Invalid WebGL Rendering Context")},t}();e.default=v},2672:function(t,e,r){"use strict";var o=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDrawRendering=void 0;var a=r(9415),s=i(r(7271)),u=function(){function t(t,e,r,o){this._gl=t,this._glExt=e,this._resourceLoader=r,this._dataArray=o,this._vao=this._glExt.createVertexArray(),this._glExt.bindVertexArray(this._vao),console.log(performance.now(),"preparing vertices...");for(var n=0,i=this._dataArray;n<i.length;n++)i[n].prepareVertex();console.log(performance.now(),"DesignTable loaded.")}return t.prototype.init=function(){return o(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return console.log(performance.now(),"loading images..."),[4,this._resourceLoader.load()];case 1:return t.sent(),[2]}}))}))},t.prototype.updateVertices=function(t){throw new Error("MultiDrawRendering does not support updateVertices")},t.prototype.render=function(t,e){if(void 0===e&&(e=[]),null!=t){for(var r=0;r<this._dataArray.length;r++)this._dataArray[r].render(t);this._selection&&(this._selection.setStrokeWidth(2/e[0]),this._selection.prepareVertex(),this._selection.render(t))}},t.prototype.getElement=function(t,e){void 0===e&&(e=this._dataArray);for(var r=0,o=e;r<o.length;r++){var n=o[r];if(n._id===t)return n;if(n._children&&n._children.length>0)return this.getElement(t,n._children)}},t.prototype.select=function(t){var e=this.getElement(t);if(e){var r=new s.default(this._gl,this._resourceLoader);r.setDimension({x:e._absolute[12],y:e._absolute[13],width:e._width,height:e._height,rotation:e._rotation}),r.addStroke({type:a.StrokeType.SOLID,color:[1,.5,.5,1]}),r.setStrokePosition(.5),this._selection=r}else this._selection=void 0},t}();e.MultiDrawRendering=u},6395:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceLoader=e.VideoResource=e.ImageResource=e.Resource=void 0;var u=r(4148),l=r(5141),c=r(9950),h=function(){function t(t){var e=t.options,r=t.gl,o=t.url,n=t.media;this.options=e,this._gl=r,this._url=o,this.media=n,this.texture=u.TypeChecker.checkExists(this._gl.createTexture(),"Unable to create a WebGL texture")}return t.prototype.load=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){return this.loadingPromise||(this.loadingPromise=new Promise((function(e){return a(t,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return[4,this.loadMedia()];case 1:return t=r.sent(),this.setupTexture(),this.updateTexture(t),e(),[2]}}))}))}))),[2,this.loadingPromise]}))}))},t.prototype.updateTexture=function(t){var e,r=null!==(e=this.options.textureFormat)&&void 0!==e?e:this._gl.RGBA;this._gl.texImage2D(this._gl.TEXTURE_2D,0,r,r,this._gl.UNSIGNED_BYTE,t)},t.prototype.update=function(){this.updateTexture(this.media)},t.prototype.setupTexture=function(){var t=this._gl;t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.options.pixelPerfect?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST)},t}();e.Resource=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.loadMedia=function(){var t=this,e=this.media;return new Promise((function(r){e.addEventListener("load",(function(){r(e)})),e.src=t._url}))},e}(h);e.ImageResource=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.loadMedia=function(){var t=this,e=this.media;return new Promise((function(r){e.src=t._url,e.muted=!0,e.loop=!0,e.addEventListener("playing",(function(){r(e)})),e.play()}))},e}(h);e.VideoResource=f;var p=function(){function t(t){this._gl=t,this._resources=new Map}return t.prototype.pushResourceSrc=function(t,e,r){void 0===e&&(e="image");var o=(0,c.uuidv4)(),n={url:t,gl:this._gl,options:i({autoPlay:!1,pixelPerfect:l.PIXEL_PERFECT,textureFormat:this._gl.RGBA},r)};switch(e){case"image":this._resources.set(o,new d(i(i({},n),{media:new Image})));break;case"video":this._resources.set(o,new f(i(i({},n),{media:document.createElement("video")})));break;default:throw new Error("Unknown type: ".concat(e))}return o},t.prototype.load=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(r){switch(r.label){case 0:return t=Array.from(this._resources.keys()).map((function(t){var r=e.getResource(t);if(null==r)throw new Error("No resource for ".concat(t," is available"));return r.load()})),[4,Promise.all(t)];case 1:return r.sent(),[2]}}))}))},t.prototype.getResource=function(t){return this._resources.get(t)},t}();e.ResourceLoader=p},3221:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var o=r(463),n=r(1028);function i(t,e){if(t[1]<t[0])throw new Error("range[1] must be greater than range[0]");var r=t[0],o=1;return function(){var n=r;return(r+=e*o)>t[1]?(o=-1,r=t[1]):r<t[0]&&(o=1,r=t[0]),n}}e.Config={autoPlay:!1},e.default=function(t){var r=t.resourceLoader,a={megamans:r.pushResourceSrc("/assets/megamans.png"),oranges:r.pushResourceSrc("/assets/oranges.png"),sword:r.pushResourceSrc(o.SWORD_ICON)},s={backgroundForEarthWithWrite1pxBorder:new n.BaseElement({dimension:{x:-1282,y:0,width:1282,height:722,rotation:0},type:0,colors:[{r:0,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],textureCoords:[0,0,1,0,1,1,0,1]}),imageSword:new n.BaseElement({dimension:{x:-98,y:-98,width:96,height:96,rotation:0},type:0,colors:[{r:.2,g:.5,b:.9,a:1},{r:.2,g:.5,b:.9,a:1},{r:.2,g:.5,b:.9,a:1},{r:.2,g:.5,b:.9,a:1}],textureResourceId:a.sword,textureCoords:[0,0,1,0,1,1,0,1]}),gradientColorBackgroundForMegaman:new n.BaseElement({dimension:{x:0,y:154,width:128,height:146,rotation:0},type:0,colors:[{r:1,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:1,a:1},{r:1,g:1,b:0,a:1}]}),megaman:new n.BaseElement({dimension:{x:1,y:155,width:126,height:144,rotation:0},type:0,colors:[{r:.9,g:.5,b:.1,a:1},{r:.9,g:.5,b:.1,a:1},{r:.9,g:.5,b:.1,a:1},{r:.9,g:.5,b:.1,a:1}],textureResourceId:a.megamans,textureCoords:[48/1170,57/153,111/1170,57/153,111/1170,129/153,48/1170,129/153]}),oranges:new n.BaseElement({dimension:{x:0,y:-155,width:300,height:155,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:a.oranges,textureCoords:[0,0,1,0,1,1,0,1]}),gradientColorBackgroundForAllMegamans:new n.BaseElement({dimension:{x:0,y:0,width:1170,height:153,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:.5},{r:0,g:1,b:0,a:.5},{r:0,g:0,b:1,a:1},{r:.8,g:.8,b:.8,a:1}]}),selectionBoxForFirstMegaman:new n.BaseElement({dimension:{x:48,y:57,width:63,height:72,rotation:0},type:0,colors:[{r:.6,g:.6,b:.6,a:.5},{r:.6,g:.6,b:.6,a:.5},{r:.6,g:.6,b:.6,a:.5},{r:.6,g:.6,b:.6,a:.5}]}),allMegamans:new n.BaseElement({dimension:{x:0,y:0,width:1170,height:153,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:a.megamans,textureCoords:[0,0,1,0,1,1,0,1]})},u=!!e.Config.autoPlay,l=i([0,1],.005),c=i([0,1170],1);return{elements:[s.backgroundForEarthWithWrite1pxBorder,s.imageSword,s.gradientColorBackgroundForMegaman,s.megaman,s.oranges,s.gradientColorBackgroundForAllMegamans,s.selectionBoxForFirstMegaman,s.allMegamans],animationStep:function(){if(u){var t=l();s.gradientColorBackgroundForAllMegamans.update({dimension:{x:0,y:0,width:c(),height:153,rotation:0}}),s.gradientColorBackgroundForMegaman.update({colors:[{r:t,g:1,b:0,a:1},{r:0,g:0,b:1-t,a:1},{r:0,g:0,b:1-t,a:1},{r:t,g:1,b:0,a:1}]})}}}}},1210:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var o=r(463),n=r(1028),i=r(6395);function a(t,e){if(t[1]<t[0])throw new Error("range[1] must be greater than range[0]");var r=t[0],o=1;return function(){var n=r;return(r+=e*o)>t[1]?(o=-1,r=t[1]):r<t[0]&&(o=1,r=t[0]),n}}e.Config={autoPlay:!0},e.default=function(t){var r=t.resourceLoader,s={megamans:r.pushResourceSrc("/assets/megamans.png"),oranges:r.pushResourceSrc("/assets/oranges.png"),sword:r.pushResourceSrc(o.SWORD_ICON),earth:r.pushResourceSrc("/assets/file_example_MP4_1280_10MG.mp4","video",{autoPlay:!0}),stickyNotes:r.pushResourceSrc("/assets/file_example_MP4_4096x2160_29MG.mp4","video",{autoPlay:!0}),popcron:r.pushResourceSrc("/assets/popcorntest_MP4_300x180_2M.mp4","video",{autoPlay:!0})},u={videoStickyNotes:new n.BaseElement({dimension:{x:-2048,y:-1080,width:4096,height:2160,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:s.stickyNotes,textureCoords:[0,0,1,0,1,1,0,1]}),backgroundForEarthWithWrite1pxBorder:new n.BaseElement({dimension:{x:-1282,y:0,width:1282,height:722,rotation:0},type:0,colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],textureCoords:[0,0,1,0,1,1,0,1]}),videoEarthWithWrite1pxBorder:new n.BaseElement({dimension:{x:-1281,y:1,width:1280,height:720,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:s.earth,textureCoords:[0,0,1,0,1,1,0,1]}),imageSword:new n.BaseElement({dimension:{x:-98,y:-98,width:96,height:96,rotation:0},type:0,colors:[{r:.2,g:.5,b:.9,a:1},{r:.2,g:.5,b:.9,a:1},{r:.2,g:.5,b:.9,a:1},{r:.2,g:.5,b:.9,a:1}],textureResourceId:s.sword,textureCoords:[0,0,1,0,1,1,0,1]}),gradientColorBackgroundForMegaman:new n.BaseElement({dimension:{x:0,y:154,width:128,height:146,rotation:0},type:0,colors:[{r:1,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:1,a:1},{r:1,g:1,b:0,a:1}]}),megaman:new n.BaseElement({dimension:{x:1,y:155,width:126,height:144,rotation:0},type:0,colors:[{r:.9,g:.5,b:.1,a:1},{r:.9,g:.5,b:.1,a:1},{r:.9,g:.5,b:.1,a:1},{r:.9,g:.5,b:.1,a:1}],textureResourceId:s.megamans,textureCoords:[48/1170,57/153,111/1170,57/153,111/1170,129/153,48/1170,129/153]}),oranges:new n.BaseElement({dimension:{x:0,y:-155,width:300,height:155,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:s.oranges,textureCoords:[0,0,1,0,1,1,0,1]}),gradientColorBackgroundForAllMegamans:new n.BaseElement({dimension:{x:0,y:0,width:1170,height:153,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:.5},{r:0,g:1,b:0,a:.5},{r:0,g:0,b:1,a:1},{r:.8,g:.8,b:.8,a:1}]}),selectionBoxForFirstMegaman:new n.BaseElement({dimension:{x:48,y:57,width:63,height:72,rotation:0},type:0,colors:[{r:.6,g:.6,b:.6,a:.5},{r:.6,g:.6,b:.6,a:.5},{r:.6,g:.6,b:.6,a:.5},{r:.6,g:.6,b:.6,a:.5}]}),allMegamans:new n.BaseElement({dimension:{x:0,y:0,width:1170,height:153,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:s.megamans,textureCoords:[0,0,1,0,1,1,0,1]}),popcron:new n.BaseElement({dimension:{x:-320,y:20,width:300,height:180,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:s.popcron,textureCoords:[0,0,1,0,1,1,0,1]})},l=!!e.Config.autoPlay,c=document.createElement("button"),h=[s.earth,s.popcron,s.stickyNotes].map((function(t){return r.getResource(t)})).filter((function(t){return t instanceof i.VideoResource}));c.style.position="fixed",c.style.bottom="20px",c.style.right="20px",c.style.width="100px",c.textContent=l?"Pause":"Play",c.addEventListener("click",(function(){l=!l,c.textContent=l?"Pause":"Play",l?h.map((function(t){return t.media.play()})):h.map((function(t){return t.media.pause()}))})),document.body.appendChild(c);var d=a([0,1],.005),f=a([0,1170],1);return{elements:[u.videoStickyNotes,u.backgroundForEarthWithWrite1pxBorder,u.videoEarthWithWrite1pxBorder,u.imageSword,u.gradientColorBackgroundForMegaman,u.megaman,u.oranges,u.gradientColorBackgroundForAllMegamans,u.selectionBoxForFirstMegaman,u.allMegamans,u.popcron],animationStep:function(){if(l){var t=d();u.gradientColorBackgroundForAllMegamans.update({dimension:{x:0,y:0,width:f(),height:153,rotation:0}}),u.gradientColorBackgroundForMegaman.update({colors:[{r:t,g:1,b:0,a:1},{r:0,g:0,b:1-t,a:1},{r:0,g:0,b:1-t,a:1},{r:t,g:1,b:0,a:1}]})}}}}},4248:function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,n)}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSceneLoader=e.getSceneList=e.SceneName=void 0;var s,u=a(r(9850)),l=a(r(6346)),c=a(r(7414)),h=a(r(5286)),d=a(r(6734)),f=i(r(3221)),p=i(r(1210)),g=i(r(2333)),_=i(r(8359));!function(t){t.shape10kDemo="shape10kDemo",t.simpleAniDemo="simpleAniDemo",t.strokeDemo="strokeDemo",t.multiShaders="multiShaders",t.rotation="rotation"}(s=e.SceneName||(e.SceneName={})),e.getSceneList=function(){return[{name:"gradientBox",desc:"[Batch Rendering] Render gradient elements with images only"},{name:"gradientBoxAndMovies",desc:"[Batch Rendering] Render gradient elements with images and videos."},{name:"quad2m",desc:"[Batch Rendering] Render 2000K elements. Much better performance. Lesser CPU bound instructions and more GPU bound ones"},{name:s.shape10kDemo,desc:"[Multi-draw Rendering] Render 20K elements. Slow performance. More CPU bound instructions and lesser GPU bound ones"},{name:s.simpleAniDemo,desc:"[Multi-draw Rendering] Animation Demo for strokes, rotation, resizing, etc"},{name:s.strokeDemo,desc:"[Multi-draw Rendering] Convert the 2D scene to 3D scene. Use scaleZ to adjust the Z index, and use angleX/Z controls to see the elements in 3D view"},{name:s.multiShaders,desc:"[Multi-draw Rendering] Render images within different stoke types"},{name:s.rotation,desc:"[Multi-draw Rendering] Frame clip feature"}]},e.getSceneLoader=function(){var t=window.location.href,e=new URL(t).searchParams.get("sceneName");switch(e){case s.shape10kDemo:return{scene:e,loader:u.default};case s.simpleAniDemo:return{scene:e,loader:l.default};case s.strokeDemo:return{scene:e,loader:c.default};case s.multiShaders:return{scene:e,loader:h.default};case s.rotation:return{scene:e,loader:d.default};case"gradientBox":return{scene:e,loader:f.default,config:f.Config};case"gradientBoxAndMovies":return{scene:e,loader:p.default,config:p.Config};case"quad2m":return{scene:e,loader:g.default,config:g.Config};case"textureFiltering":return{scene:e,loader:_.default,config:_.Config};default:return}}},5286:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(463),i=o(r(7271)),a=o(r(3207)),s=r(9415);e.default=function(t){var e=t.gl,r=t.resourceLoader,o=[];(u=new i.default(e,r)).setDimension({x:-100,y:-200,width:96,height:96,rotation:0});var u,l=r.pushResourceSrc(n.SWORD_ICON);return u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.7,.3,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),(u=new i.default(e,r)).setDimension({x:-100,y:-70,width:96,height:96,rotation:0}),l=r.pushResourceSrc(n.SWORD_ICON),u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addFill({type:s.FillType.SOLID,color:[.8,.3,.3,.5]}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.7,.3,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),(u=new i.default(e,r)).setDimension({x:30,y:-200,width:250,height:250,rotation:0}),l=r.pushResourceSrc(n.SWORD_ICON),u.addFill({type:s.FillType.SOLID,color:[.3,.3,.6,.5]}),u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.7,.3,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),(u=new a.default(e,r)).setDimension({x:310,y:-200,width:250,height:250,rotation:0}),u.setPointCount(5),l=r.pushResourceSrc(n.SWORD_ICON),u.addFill({type:s.FillType.SOLID,color:[.3,.3,.6,.5]}),u.addFill({type:s.FillType.BACKGROUND_IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.7,.3,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),(u=new a.default(e,r)).setDimension({x:610,y:-200,width:250,height:250,rotation:0}),u.setPointCount(5),l=r.pushResourceSrc(n.SWORD_ICON),u.addFill({type:s.FillType.SOLID,color:[.3,.3,.6,.5]}),u.addStroke({type:s.StrokeType.BACKGROUND_IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.8,.1,.3,.3]}),u.setStrokePosition(0),u.setStrokeWidth(50),o.push(u),(u=new i.default(e,r)).setDimension({x:860,y:-200,width:63,height:72,rotation:0}),l=r.pushResourceSrc("/assets/megaman.png"),u.addFill({type:s.FillType.SOLID,color:[.6,.3,.9,1]}),u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[0,.7,.5,.7]}),u.setStrokePosition(.5),u.setStrokeWidth(2),u.prepareVertex(),o.push(u),(u=new i.default(e,r)).setDimension({x:-100,y:100,width:1170,height:153,rotation:0}),l=r.pushResourceSrc("/assets/megamans.png"),u.addFill({type:s.FillType.SOLID,color:[.6,.3,.6,.5]}),u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.3,.7,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),(u=new i.default(e,r)).setDimension({x:-100,y:300,width:300,height:155,rotation:0}),l=r.pushResourceSrc("/assets/oranges.png"),u.addFill({type:s.FillType.SOLID,color:[.6,.3,.6,.5]}),u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.3,.7,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),(u=new i.default(e,r)).setDimension({x:-100,y:500,width:6858,height:4574,rotation:0}),l=r.pushResourceSrc("/assets/strawberries.jpg"),u.addFill({type:s.FillType.SOLID,color:[.6,.3,.6,.5]}),u.addFill({type:s.FillType.IMAGE,resourceId:l}),u.addStroke({type:s.StrokeType.SOLID,color:[.3,.3,.7,1]}),u.setStrokePosition(1),u.setStrokeWidth(10),o.push(u),{dataArray:o}}},2333:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var o=r(463),n=r(1028),i=r(9950);e.Config={autoPlay:!0},e.default=function(t){for(var e=t.resourceLoader,r=[],a=[e.pushResourceSrc("/assets/megamans.png"),e.pushResourceSrc("/assets/oranges.png"),e.pushResourceSrc(o.SWORD_ICON),e.pushResourceSrc("/assets/file_example_MP4_1280_10MG.mp4","video",{autoPlay:!0}),e.pushResourceSrc("/assets/file_example_MP4_4096x2160_29MG.mp4","video",{autoPlay:!0}),e.pushResourceSrc("/assets/popcorntest_MP4_300x180_2M.mp4","video",{autoPlay:!0})],s=0;s<1024;s++)for(var u=0;u<1024;u++){var l=100*s+(0,i.randomInt)(30),c=100*u+(0,i.randomInt)(30),h=10+(0,i.randomInt)(200),d=10+(0,i.randomInt)(50),f=Math.random(),p=Math.random(),g=Math.random();r.push(new n.BaseElement({dimension:{x:l,y:c,width:h,height:d,rotation:0},type:0,colors:[{r:f,g:p,b:g,a:1},{r:f,g:p,b:g,a:1},{r:f,g:p,b:g,a:1},{r:f,g:p,b:g,a:1}],textureResourceId:a[Math.floor(9*Math.random())-3],textureCoords:[0,0,1,0,1,1,0,1]}))}return{elements:r}}},6734:function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,n)}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return n(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(r(7271)),u=a(r(3207)),l=i(r(130)),c=r(9415);e.default=function(t){var e=t.gl,r=t.resourceLoader,o=[],n=new l.default(e,r);n.setDimension({x:10,y:0,width:100,height:200,rotation:0}),n.clipContent(!0),n.addBackground({type:l.BackgroundType.SOLID,color:[.8,.8,.8,1]}),o.push(n),(i=new s.default(e,r)).setDimension({x:0,y:0,width:60,height:60,rotation:45});var i,a=r.pushResourceSrc("/assets/megaman.png");return i.addFill({type:c.FillType.IMAGE,resourceId:a}),i.addStroke({type:c.StrokeType.SOLID,color:[.3,.8,0,1]}),i.setStrokePosition(1),i.setStrokeWidth(20),n.addChild(i),(i=new s.default(e,r)).setDimension({x:60,y:60,width:60,height:60,rotation:45}),i.addFill({type:c.FillType.SOLID,color:[.8,.3,.8,1]}),n.addChild(i),(i=new u.default(e,r)).setDimension({x:0,y:100,width:60,height:30,rotation:0}),i.setPointCount(4),i.addFill({type:c.FillType.SOLID,color:[.3,.8,.8,1]}),i.addStroke({type:c.StrokeType.SOLID,color:[.3,.5,0,1]}),i.setStrokePosition(1),i.setStrokeWidth(10),n.addChild(i),(i=new u.default(e,r)).setDimension({x:0,y:0,width:10,height:10,rotation:0}),i.setPointCount(40),i.addFill({type:c.FillType.SOLID,color:[.9,.1,.4,1]}),o.push(i),{dataArray:o}}},9850:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(7271)),i=o(r(4410)),a=o(r(3207)),s=r(9950),u=r(9415);e.default=function(t){for(var e=t.gl,r=t.resourceLoader,o=[n.default,i.default,a.default],l=[],c=0;c<100;c++)for(var h=0;h<100;h++){var d=new(0,o[(0,s.randomInt)(o.length)])(e,r);d.setDimension({x:100*c+(0,s.randomInt)(30),y:100*h+(0,s.randomInt)(30),width:10+(0,s.randomInt)(50),height:10+(0,s.randomInt)(50),rotation:(0,s.randomInt)(359)}),d instanceof a.default&&d.setPointCount(3+(0,s.randomInt)(20)),d.addFill({type:u.FillType.SOLID,color:[Math.random(),Math.random(),Math.random(),1]}),d.addStroke({type:u.StrokeType.SOLID,color:[1,1,1,1]}),d.setStrokePosition(1),d.setStrokeWidth((0,s.randomInt)(15)),l.push(d)}return{dataArray:l}}},6346:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(463),i=r(6086),a=o(r(7271)),s=o(r(4410)),u=o(r(3207)),l=r(9950),c=r(9415);e.default=function(t){var e,r=t.gl,o=t.resourceLoader,h=[a.default,s.default,u.default],d=[],f=o.pushResourceSrc(n.SWORD_ICON),p=new a.default(r,o);p.zIndex=-1,p.setDimension({x:0,y:0,width:200,height:400,rotation:0}),p.addFill({type:c.FillType.SOLID,color:[1,1,1,.2]});for(var g=0;g<3;g++)for(var _=0;_<3;_++){var m=new(0,h[_])(r,o);m.zIndex=2-Math.max(g,_),m.setDimension({x:100*g+(0,l.randomInt)(30),y:100*_+(0,l.randomInt)(30),width:60+(0,l.randomInt)(20),height:60+(0,l.randomInt)(20),rotation:(0,l.randomInt)(359)}),m instanceof u.default&&m.setPointCount(3+(0,l.randomInt)(20)),m.addFill({type:c.FillType.SOLID,color:[Math.random(),Math.random(),Math.random(),1]}),m.addStroke({type:c.StrokeType.SOLID,color:[1,1,1,.5]}),m.setStrokePosition(1),m.setStrokeWidth(10+(0,l.randomInt)(15)),d.push(m)}return d[2].addStroke({type:c.StrokeType.BACKGROUND_IMAGE,resourceId:f}),d[5].addFill({type:c.FillType.BACKGROUND_IMAGE,resourceId:f}),d[6].addFill({type:c.FillType.BACKGROUND_IMAGE,resourceId:f}),d[7].addStroke({type:c.StrokeType.BACKGROUND_IMAGE,resourceId:f}),d.push(p),{dataArray:d,animationStep:function(t){e||(e=t);var r=t-e;[0,2,4,6,8].forEach((function(t){var e=d[t];e.setRotation((e.getRotation()+1)%360)})),[7].forEach((function(t){var e=d[t],r=(0,i.clamp)(e.getStrokeWidth()+.1,0,30);e.setStrokeWidth(30===r?0:r),e.prepareVertex()})),[3].forEach((function(t){var e=d[t],r=(0,i.clamp)(e.getWidth()+.1,0,30),o=(0,i.clamp)(e.getHeight()+.2,0,60);e.setDimension({width:30===r?0:r,height:60===o?0:o,x:0,y:0,rotation:0}),e.prepareVertex()})),[5].forEach((function(t){var e=d[t],o=Math.floor(r/200)%14;e instanceof u.default&&o!==e.getPointCount()&&(e.setPointCount(3+o),e.prepareVertex())})),[1,6].forEach((function(t){var e=d[t],o=[0,.5,1][Math.floor(r/1e3)%3];o!==e.getStrokePosition()&&(e.setStrokePosition(o),e.prepareVertex())}))}}}},7414:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(7271)),i=o(r(4410)),a=o(r(3207)),s=r(9415);e.default=function(t){var e,r=t.gl,o=t.resourceLoader,u=[],l=0;return(e=new n.default(r,o)).zIndex=l++,e.setDimension({x:-100,y:-200,width:200,height:400,rotation:0}),e.addFill({type:s.FillType.SOLID,color:[.3,.3,.3,1]}),e.addStroke({type:s.StrokeType.SOLID,color:[.3,.7,.3,1]}),e.setStrokePosition(1),e.setStrokeWidth(10),u.push(e),(e=new i.default(r,o)).zIndex=l++,e.setDimension({x:-100,y:-200,width:200,height:400,rotation:0}),e.addFill({type:s.FillType.SOLID,color:[.9,.3,.3,1]}),e.addStroke({type:s.StrokeType.SOLID,color:[0,.3,1,1]}),e.setStrokePosition(0),e.setStrokeWidth(20),u.push(e),(e=new a.default(r,o)).zIndex=l++,e.setDimension({x:-100,y:-50,width:200,height:100,rotation:0}),e.setPointCount(4),e.addFill({type:s.FillType.SOLID,color:[Math.random(),Math.random(),Math.random(),.5]}),u.push(e),(e=new a.default(r,o)).zIndex=l++,e.setDimension({x:-100,y:-200,width:200,height:100,rotation:0}),e.setPointCount(4),e.addFill({type:s.FillType.SOLID,color:[Math.random(),Math.random(),Math.random(),.9]}),e.addStroke({type:s.StrokeType.SOLID,color:[1,1,1,.3]}),e.setStrokePosition(.5),e.setStrokeWidth(20),u.push(e),(e=new a.default(r,o)).zIndex=l++,e.setDimension({x:-100,y:100,width:200,height:100,rotation:0}),e.setPointCount(4),e.addFill({type:s.FillType.SOLID,color:[Math.random(),Math.random(),Math.random(),.5]}),e.addStroke({type:s.StrokeType.SOLID,color:[1,1,1,.3]}),e.setStrokePosition(1),e.setStrokeWidth(10),u.push(e),{dataArray:u}}},463:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SWORD_ICON=void 0,e.SWORD_ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQsSURBVHhe7dGxreNmEIXRV8224NSZnSzcxRblAtzCJi7CgRtwJW/njpnp6CdMSLAozgVONiCpTx+z2Ww2m81ms9lsNtv259+fDzE7OMU8YnZwinnE7OAU84jZwSnmEbODU8wjZjtTtPL1r39It0uznSlaUfzQ7dJsZ4pWFD90uzTbmaIVxQ/dLs12pmhF8UO3S7OdKVpR/NDt0myb4hRFDt2GbkO3bbZNcYpihm5Dt6HbNtumOEUxQ7eh29Btm21TnKKYodvQbei2zbYpTlHM0G3oNnTbZtsUpyhm6DZ0G7ptl5siFEUL3YZuQ7dttk1ximKGbkO3ods226Y4RTFDt6Hb0G2bbVOcopih29Bt6LbNtilOUczQbeg2dNtm2xSnKGboNnQbum3/277+/PmfPGqKUBQtdBu6Dd22l5sirzxqilMUM3Qbug3dtpebIq88aopTFDN0G7oN3baXmyKvPGqKUxQzdBu6Dd22l5sirzxqilMUM3Qbug3dtpebIq88aopTFDN0G7oN3baXmyKXL3/8Trpt96YIRdFCt6Hb0G07zRSzKH7ott2b4hTFDN2GbkO37TRTzKL4odt2b4pTFDN0G7oN3bbTTDGL4odu270pTlHM0G3oNnTbTjPFLIofum33pjhFMUO3odvQbTvNFLMofui23ZviFMUM3YZuQ7ft9FPkoj8ldBuKFoxWdBu6bW87xAzFD92GYgZjFt2GbtvbDjFD8UO3oZjBmEW3odv2tkPMUPzQbShmMGbRbei2ve0QMxQ/dBuKGYxZdBu6bW87xAzFD92GYgZjFt2GbtvbDjFD8UO3TdGKIodu2+WmmEXxQ7dNMYvih27b5aaYRfFDt00xi+KHbtvlpphF8UO3TTGL4odu2+WmmEXxQ7dNMYvih27b5aaYRfFDt00xi+KHbttsmyIX/Smh26XZzhStKH7odmm2M0Urih+6XZrtTNGK4odul2Y7U7Si+KHbpdnOFK0ofuh2afbvfvrlt0/5/u1XYsyiP2VFz2hXm+KH4gejFUVe0TPa1ab4ofjBaEWRV/SMdrUpfih+MFpR5BU9o11tih+KH4xWFHlFz2hXm+KH4gejFUVe0TPa6acftaDIoT8ltrfcDs9e0Z8Sum2nmT5+QfFD8WN7y+3w7BXFD92200wfv6D4ofixveV2ePaK4odu22mmj19Q/FD82N5yOzx7RfFDt+0008cvKH4ofmxvuR2evaL4odt2munjFxQ/FD+2t9wOz15R/NBtO8308UU/NnTbnj29c+U008cXxQ/dtmdP71w5zfTxRfFDt+3Z0ztXTjN9fFH80G179vTOldNMH18UP3Tbnj29c+U008cXxQ/dtmdP71w5zfTxR8wOTjGPmB2cYh4xOzjFPGJ2cIp5xOzgFPOI2Ww2m81ms9lsNpvNZpfdx8cPzlpF85CxV1EAAAAASUVORK5CYII="},8359:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var o=r(1028);e.Config={autoPlay:!0},e.default=function(t){var e,r,a=t.gl,s=t.resourceLoader,u={fourColor:s.pushResourceSrc(i,"image",{pixelPerfect:!1}),kittenImagePixelated:s.pushResourceSrc(n,"image",{pixelPerfect:!0}),kittenImage:s.pushResourceSrc(n,"image",{pixelPerfect:!1,textureFormat:null!==(r=null===(e=a.getExtension("EXT_sRGB"))||void 0===e?void 0:e.SRGB_ALPHA_EXT)&&void 0!==r?r:a.RGBA})},l={fourColorBlue:new o.BaseElement({dimension:{x:-620,y:-410,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:u.fourColor,textureCoords:[0,0,.5,0,.5,.5,0,.5]}),fourColorPink:new o.BaseElement({dimension:{x:220,y:-410,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:u.fourColor,textureCoords:[.5,0,1,0,1,.5,.5,.5]}),fourColorRed:new o.BaseElement({dimension:{x:-620,y:10,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:u.fourColor,textureCoords:[0,.5,.5,.5,.5,1,0,1]}),fourColorGreen:new o.BaseElement({dimension:{x:220,y:10,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:0,b:0,a:1},{r:0,g:1,b:0,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:0,a:1}],textureResourceId:u.fourColor,textureCoords:[.5,.5,1,.5,1,1,.5,1]}),whiteBackgroundKittenPixelated:new o.BaseElement({dimension:{x:-200,y:-410,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:1,b:1,a:.5},{r:1,g:1,b:1,a:.5},{r:1,g:0,b:1,a:1},{r:1,g:0,b:1,a:1}]}),kittenPixelated:new o.BaseElement({dimension:{x:-200,y:-410,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],textureResourceId:u.kittenImagePixelated,textureCoords:[0,0,1,0,1,1,0,1]}),whiteBackground:new o.BaseElement({dimension:{x:-200,y:10,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:1,b:1,a:.5},{r:1,g:1,b:1,a:.5},{r:1,g:0,b:1,a:1},{r:1,g:0,b:1,a:1}]}),kitten:new o.BaseElement({dimension:{x:-200,y:10,width:400,height:400,rotation:0},type:0,colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],textureResourceId:u.kittenImage,textureCoords:[0,0,1,0,1,1,0,1]}),halfWhiteBackground:new o.BaseElement({dimension:{x:0,y:-420,width:210,height:840,rotation:0},type:0,colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}]}),halfBlueBackground:new o.BaseElement({dimension:{x:-210,y:-420,width:210,height:840,rotation:0},type:0,colors:[{r:0,g:0,b:1,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:1,a:1},{r:0,g:0,b:1,a:1}]})},c=!1,h=document.createElement("button");return h.style.position="fixed",h.style.bottom="20px",h.style.right="20px",h.style.width="200px",h.style.height="40px",h.textContent=c?"Switch to gl.SRC_ALPHA":"Switch to gl.ONE",h.addEventListener("click",(function(){c=!c,h.textContent=c?"Switch to gl.SRC_ALPHA":"Switch to gl.ONE"})),document.body.appendChild(h),{elements:[l.halfBlueBackground,l.halfWhiteBackground,l.whiteBackgroundKittenPixelated,l.kittenPixelated,l.whiteBackground,l.kitten,l.fourColorBlue,l.fourColorPink,l.fourColorRed,l.fourColorGreen],animationStep:function(){c?a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA):a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA)}}};var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAACU1JREFUeF7tXUlvHEUU/sb2eIlt7HhPIiIhEbjkkPwAJIQQJ8QpN6SIf5ALV+6RuPADkIhAHLjCAcSBG5wjEYEEF8SSOHbG8b6MZzzozaTs6upaXlV3z3RPqiVfPNX1Xn1fvbV6emqIV6kQqHG0OX10t9MBQIM7rTZqY6Pd2+o3v2Tdz5ExTGMIL3k9AjMOXk5A1ckTgtBBDbVIDAAbTjJmLlKchDQf3e24BgnrcQkbJisQa+ESIca7MLJi7Sus85JZjC8+HFKMhKSEtVrA9nNgpAZMTQNTU84N79oNzglKOqAXU3vuWntRxD06BA4PgdFRYP4yULsYa8OFT8jzrZ4QcY1PAHNzQH3cCtswkcKyiKMjYHcbaLcvcHllDpiZTeBkwkVLiNY6NtbTwBPrc/PApWnnXq46MXKmaVzszg5wsJf+mKxkZY1lJTxC9nYB+jNdmh2gG1pFUlhWQS6K3LnsQVQAFpeBiQmnlfAIefokaYI6tMlPMiylSvWLM1YIHFR3rsNn6hJweSEHQk6bwOaG0yV1g9bSsjOmcDINt7DiR7Asg9TY3wN2d9wKkdtaveJPSEoRrkASNVYHllcSvtKmaRldGJsIWhht1mebQLePwbgIGykJ0q0/5bJSCnHMUdZleqYX6BmXb91y+uM7HXDnJ5Aaz4DmCerv/eSqbbvaepFB85PnaJ0yVvpiiMatq6S4Cdl46ieUZCs7gaOxrFgXGFowZXZy+igmWlgBJu3pdjcJ0SUik5PAwlJ3ppRMjqJijCvR0c01PdsrFaTLn5An//FNUgiiGoXiScB1XnBRPv+8oZ8hCyE048oV4EWDNEBFoNUGNtf9cZE2g5DrJCTRuzo7A9YfB+mMy4usat44Ofnm5kn6Y0oe1q6645QtGZl9BaC/0GtnGzjY979bs1H7R4hngE+szrYRNOmjERlTuk66raz6A0p3hFoH3auR2z9CSIFQK7G5K496B7aEhKxsZMSfFFM1zplp4IRwYgkF72YTGB+/cEO2gOmTMNhSdrlyJotst9w1FI0jq+OmuSpJIYSkUr/H/3K4N4/RtAzOB9MCtxq9WCEHvLx2ts3ShPXK2Ry5Q6Uzm1iYT02mQyQkhqQI4bRNbJSZfD754sbGRVor7x4TIdyALvSxBXbh+tR4RRuDyJLa5efLCykBZGwY7RN3HWLKdrh2o0n1uiavFlWysiZCNO0Hqxp0hqPrUqvxTd10mnqhKyfr5mS04d2EZAliBDJV7WrwPDzodUflSwbB1sZW+kHBhMiuVLfzqV0+NpacXhzS6dJxzgbV1E/OLCvlsnTguYSTuc8vmOuQrWfA8bGZEJPMPC1ELg51XsB0pEDWTbHEdhxhwkfJ7Fi9LJorQYrN7HWCKRYsLKZ3lzxWB4Dssky+n4i+cs21HS4+N82jEqtzRa4znpMTYHvLfSwhtGFkWDQ0v/MQms2VpQjldC5JVVgHkm9QJ9Aam2kCZfJNRagtOxQzylmia5tomqJhFkKCOHHEpx1BVrf5NJ3PyzWGSaZPQWdyfTLYujE+XQZyYdRzU12wShAjfvAtxLTThFCXeet2D9UIZPJykcVxW5ydK+TpCkz5fFuX7dHnJEMN6DYLcB3haizb6yEHkp16QM6U8vm0MtRF6fywbAG64O8jT5c+y5vnuAlsSaehVLhRMhLaCTY1HRn1h4CG/xiQbrf5gGPaYSJrocxlcip57qwLyqYaQTe/ms6qT39QDOie+J31ur/MZwKs4UJHCvMBB6PLSmVa9A+1j+MTM1wBz/a57nkwzlkLEU1HB7JLzGMDudaixhQlWaHD3nHLQ+rWo83mww874kn3rh4CHDLtxSX3mYRLec7ntBEoARAnh9xMS417nEYnRx/OGHnzMo5t5Sn9nu3VdWY5CmYdozYJOYFdbgQSicurfoE6q87Uq+u0tR3koEdJhT5eB/9ZF2G7X06DOa5H9uWh5zIFrMf1pI3zaYzSEELWuUtPT3YAypR03VgZQKp1KBGp11PP1RaAM3vK4SGEveRyDqRvUY3f+tppAM4B2oyrnGsuvVYu67CmvaWLIaWHm6egixSnhZQmhvDWW/pRkZCSUZSJkGgd+bMZCckf08wzBheG0UIyY6+dIBJSDK7BswYREq0jGG/njZEQJ0T9H+B9YhgtpFiSIiHF4us9uxch0Tq88fW6wdZo5D2X5SUuDuYiEP5cFldCHOeFQCTEC67iB0dCisfYSwKLkBjQvTANHkxf/x6/+VUqhru/HxIsMt7oQiBaiAuhAXzu/4WdHJT88+8WHnx3jPXGmddst94Yw0cfTGL2UsDXlw2Svv/5BD/80sT+EfOFMQBmpmq48+4E3rrteJ2H1+p6gwdCyBffHnUJCbk+/2QWN64rXy0LmQjA3uEZ3r/HeJWSZv61xRF8cz/5npJANRK3DYQQYSH7h/xdSVq//upoYRbiC+ZALCRmWL40ZR9vtZBISHaAQ2aQSUmkvZUhhDzfxjZwYnh52OgIsDof/sWbEFQz3FN9Qhq7wO+OV35cXwborwKXkRDOe95Lsb79Y+DXv4C2JY2+cbVnJRW4qm8hBPLOAfDbP3pSXlsFri1WgIp0LVLNGCKg1pFSMTLU4rDahKiWUiE3JZtv9WOI6ozo27r07nvXm0pL6sSGI4aUFNwQtSIhIagVeE+pCaEnMvp6jY2afpalL2oMpLnIXRm1xu8/kH40hntjhnHUwPzs45lcW/w+6pSakHuf7uHhHy2f9eQylgi5/WY9l7l8J3ESQhOm3uDgKyVwPLXp6fCon9fa0gjuvF0//23GfspmHeGSQpVpMvYTvQJksQmJpBSAvjKl17O9kZBiCQn6fkgkpThSggmJpORPio0MkuZ8cUAkJT9SXGSwCRlkKpwfHIOdiUOGFyHd3/STfkt9sMurlnQuGV6ERNcVtgl8yPAmRJASLYVHji8ZQYREUoojI5iQ6L7spIRYhpiRlfbaxMe+VxKdLGRkshBZjUhKD42sZORGyMvswkSCkwcZuRLyspKSFxG5xRBdfBl2F+b7K9e8vKw3KnNQNwkbZlLytgoZw8IIEUKGjZgiySjUQlTLqToxRRNRaAwZprqlX0QMjJAyuzK5R9dvIgZOiK6wFNmLT1aS59hBkdDXoO4LWD9jTRkIUPEpPMvyJaSouqaM4OvWWglC8iC1KnP8D0rEjKHzLZZyAAAAAElFTkSuQmCC",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAKtJREFUWEftl0EOgDAIBJf/P7qmRi8WzUYaNXF6boEMLKshtaaJZ2owSUGBxe5AsAgwn0FXNhFj+lQkrnKSeGmLKfCs7xCUxAz28UAkiGQj8NqirtiTaxpuDj4WXFIXunGXipfqfy1uJ+7k8RpvxWSEPd7UkBR4t7X7OwiuJNzNk3hdRrCZYx79F+lwcpFQYD7pEOxcmEFUfOEEiOQ5kRQMGS8uwFufQvBrBBe/KL3FjSrIXQAAAABJRU5ErkJggg=="},6433:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(9767)),i=o(r(9698)),a=function(){function t(t){this._gl=t,this._maskShader=new i.default(this._gl),this._backgroundShader=new n.default(this._gl)}return t.prototype.setTexture=function(t){this._backgroundShader.setTexture(t)},t.prototype.setPositionVertices=function(t){this._maskShader.setPositionVertices(t)},t.prototype.setPrimitiveType=function(t){this._maskShader.setPrimitiveType(t)},t.prototype.setPathCount=function(t){this._maskShader.setPathCount(t)},t.prototype.setViewportTransform=function(t){this._maskShader.setViewportTransform(t),this._backgroundShader.setViewportTransform(t)},t.prototype.setLocalTransform=function(t){this._maskShader.setLocalTransform(t),this._backgroundShader.setLocalTransform(t)},t.prototype.setDimension=function(t,e){this._backgroundShader.setDimension(t,e)},t.prototype.draw=function(){var t=this._gl;t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,255),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),this._maskShader.draw(),t.enable(t.STENCIL_TEST),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),this._backgroundShader.draw(),t.disable(t.STENCIL_TEST)},t}();e.default=a},8411:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2525)),s=r(2920),u=i(r(764)),l=i(r(9335)),c=r(4148),h=function(t){function e(e){var r=t.call(this,e,{VERTEX_SHADER:u.default,FRAGMENT_SHADER:l.default,programId:"Grids"})||this;return r._gl=e,r}return n(e,t),e.prototype.initDefaultUniforms=function(){},e.prototype.initAttributes=function(){var t=[1,1,-1,1,1,-1,-1,-1];this.setPrimitiveType(this._gl.TRIANGLE_STRIP),this.setPathCount(t.length/2),c.TypeChecker.checkExists(this.attributeMap.aVertexPosition).array=new Float32Array(t)},e.prototype.initUniforms=function(){this.uniformMap.uOffset=(0,s.initUniform2fv)(this._gl,this._program,"uOffset"),this.uniformMap.uPitch=(0,s.initUniform2fv)(this._gl,this._program,"uPitch"),this.uniformMap.uDevicePixelRatio=(0,s.initUniform1fv)(this._gl,this._program,"uDevicePixelRatio")},e.prototype.setGridDimension=function(t){var e=t.zoomScale,r=t.offsetX,o=t.offsetY,n=t.pitch,i=void 0===n?10:n,a=t.canvasClientHeight,s=i*e;c.TypeChecker.checkExists(this.uniformMap.uOffset).value=[r,o+s-a%s],c.TypeChecker.checkExists(this.uniformMap.uPitch).value=[s,s],c.TypeChecker.checkExists(this.uniformMap.uDevicePixelRatio).value=[window.devicePixelRatio]},e}(a.default);e.default=h},9767:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2525)),s=r(2920),u=i(r(7016)),l=i(r(8785)),c=r(4148),h=function(t){function e(e){var r=t.call(this,e,{VERTEX_SHADER:u.default,FRAGMENT_SHADER:l.default,programId:"Image"})||this;return r._gl=e,r._maskPath=[],r}return n(e,t),e.prototype.initAttributes=function(){this.attributeMap.aVertexTextureCoords=(0,s.initVertexAttr)(this._gl,this._program,"aVertexTextureCoords",{numOfComp:2}),this._maskPath=[0,0,1,0,1,1,0,1],this.setPrimitiveType(this._gl.TRIANGLE_FAN),this.setPathCount(this._maskPath.length/2),this.attributeMap.aVertexTextureCoords.array=new Float32Array(this._maskPath)},e.prototype.initUniforms=function(){this.uniformMap.uTexture=(0,s.initUniformTexture)(this._gl,this._program,"uTexture")},e.prototype.setTexture=function(t){c.TypeChecker.checkExists(this.uniformMap.uTexture).value=t},e.prototype.setDimension=function(t,e){var r=[0,0,t,0,t,e,0,e];c.TypeChecker.checkExists(this.attributeMap.aVertexPosition).array=new Float32Array(r)},e}(a.default);e.default=h},2525:function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,n)}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseShader=void 0;var a=r(2920),s=i(r(2276)),u=r(4148),l=function(){function t(t,e){this._gl=t,this.attributeMap={},this.uniformMap={},this._program=this.loadProgram(e),this.initDefaultAttributes(),this.initDefaultUniforms(),this.initAttributes(),this.initUniforms()}return t.addShaderCache=function(e,r){t.programCache.set(e,r)},t.getShaderCache=function(e){return t.programCache.get(e)},t.prototype.initDefaultAttributes=function(){this.attributeMap.aVertexPosition=(0,a.initVertexAttr)(this._gl,this._program,"aVertexPosition",{numOfComp:2})},t.prototype.initDefaultUniforms=function(){this.uniformMap.uViewportTransform=(0,a.initUniformMatrix4fv)(this._gl,this._program,"uViewportTransform"),this.uniformMap.uLocalTransform=(0,a.initUniformMatrix4fv)(this._gl,this._program,"uLocalTransform")},t.prototype.loadProgram=function(e){var r=t.getShaderCache(e.programId);if(r)return r;var o=this._gl,n=u.TypeChecker.checkExists(s.createProgramFromSources(o,e,[],[]));return t.addShaderCache(e.programId,n),n},t.prototype.useProgram=function(){this._gl.useProgram(this._program)},t.prototype.setPrimitiveType=function(t){this._primitiveType=t},t.prototype.setPathCount=function(t){this._pathCount=t},t.prototype.setViewportTransform=function(t){u.TypeChecker.checkExists(this.uniformMap.uViewportTransform).value=t},t.prototype.setLocalTransform=function(t){u.TypeChecker.checkExists(this.uniformMap.uLocalTransform).value=t},t.prototype.setPositionVertices=function(t){u.TypeChecker.checkExists(this.attributeMap.aVertexPosition).array=t},t.prototype.draw=function(){var t=this._gl;t.useProgram(this._program),Object.values(this.attributeMap).forEach((function(t){return(0,t.apply)()})),Object.values(this.uniformMap).forEach((function(t){return(0,t.apply)()})),t.drawArrays(u.TypeChecker.checkExists(this._primitiveType),0,u.TypeChecker.checkExists(this._pathCount))},t.programCache=new Map,t}();e.BaseShader=l,e.default=l},6731:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2525)),s=r(2920),u=i(r(2559)),l=i(r(659)),c=r(4148),h=function(t){function e(e){var r=t.call(this,e,{VERTEX_SHADER:u.default,FRAGMENT_SHADER:l.default,programId:"LinearGradientShader"})||this;return r._gl=e,r}return n(e,t),e.prototype.initAttributes=function(){},e.prototype.initUniforms=function(){this.uniformMap.uColor=(0,s.initUniform4fv)(this._gl,this._program,"uColor")},e.prototype.setColor=function(t){c.TypeChecker.checkExists(this.uniformMap.uColor).value=t},e}(a.default);e.default=h},8139:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2525)),s=r(2920),u=i(r(280)),l=i(r(7086)),c=i(r(3670)),h=i(r(4930)),d=r(4148),f=function(t){function e(e,r){void 0===r&&(r="webgl");var o=this,n={webgl:u.default,webgl2:l.default},i={webgl:c.default,webgl2:h.default};return(o=t.call(this,e,{VERTEX_SHADER:n[r],FRAGMENT_SHADER:i[r],programId:"MainShader"})||this)._gl=e,o}return n(e,t),e.prototype.initAttributes=function(){},e.prototype.initUniforms=function(){this.uniformMap.uColor=(0,s.initUniform4fv)(this._gl,this._program,"uColor")},e.prototype.setColor=function(t){d.TypeChecker.checkExists(this.uniformMap.uColor).value=t},e}(a.default);e.default=f},9698:function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2525)),s=i(r(3717)),u=i(r(9587)),l=function(t){function e(e){var r=t.call(this,e,{VERTEX_SHADER:s.default,FRAGMENT_SHADER:u.default,programId:"Mask"})||this;return r._gl=e,r}return n(e,t),e.prototype.initUniforms=function(){},e.prototype.initAttributes=function(){},e}(a.default);e.default=l},2920:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initUniformTextures=e.initUniformTexture=e.initUniform2iv=e.initUniform4fv=e.initUniform2fv=e.initUniform1fv=e.initUniformMatrix4fv=e.initVertexAttr=void 0;var o=r(4148);e.initVertexAttr=function(t,e,r,n){var i=n.numOfComp,a={location:t.getAttribLocation(e,r),buffer:t.createBuffer(),array:new ArrayBuffer(0),apply:function(){var e=a.location,r=a.array,n=a.buffer;t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),o.TypeChecker.checkState(null!=e),t.vertexAttribPointer(e,i,t.FLOAT,!1,0,0),t.enableVertexAttribArray(e)}};return a},e.initUniformMatrix4fv=function(t,e,r){var n={location:o.TypeChecker.checkExists(t.getUniformLocation(e,r)),value:void 0,apply:function(){t.uniformMatrix4fv(n.location,!1,o.TypeChecker.checkExists(n.value))}};return n},e.initUniform1fv=function(t,e,r){var n={location:o.TypeChecker.checkExists(t.getUniformLocation(e,r)),apply:function(){t.uniform1fv(n.location,o.TypeChecker.checkExists(n.value))},value:void 0};return n},e.initUniform2fv=function(t,e,r){var n={location:o.TypeChecker.checkExists(t.getUniformLocation(e,r)),apply:function(){t.uniform2fv(n.location,o.TypeChecker.checkExists(n.value))},value:void 0};return n},e.initUniform4fv=function(t,e,r){var n={location:o.TypeChecker.checkExists(t.getUniformLocation(e,r)),apply:function(){t.uniform4fv(n.location,o.TypeChecker.checkExists(n.value))},value:void 0};return n},e.initUniform2iv=function(t,e,r){var n={location:o.TypeChecker.checkExists(t.getUniformLocation(e,r)),apply:function(){t.uniform2iv(n.location,o.TypeChecker.checkExists(n.value))},value:void 0};return n},e.initUniformTexture=function(t,e,r){var n={location:o.TypeChecker.checkExists(t.getUniformLocation(e,r)),value:void 0,apply:function(){t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,o.TypeChecker.checkExists(n.value)),t.uniform1i(n.location,0)}};return n},e.initUniformTextures=function(t,e,r){var n=t.getUniformLocation(e,r),i={location:o.TypeChecker.checkExists(n),value:void 0,apply:function(){for(var e=o.TypeChecker.checkExists(i.value),r=[],n=0;n<e.length;n++)r.push(n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,e[n]);t.uniform1iv(i.location,r)}};return i}},1348:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(9950),i=o(r(7393)),a=function(){function t(t){this._renderer=t}return t.prototype.init=function(t){void 0===t&&(t=[]);var e=new Set(t),r=this._renderer.getTranslation(),o=this._renderer.getScale(),a=this._renderer.getRotation();e.has("x")&&i.default.setupSlider("#x",{value:r[0],slide:this._updatePosition(0),max:this._renderer._gl.canvas.width}),e.has("y")&&i.default.setupSlider("#y",{value:r[1],slide:this._updatePosition(1),max:this._renderer._gl.canvas.height}),e.has("z")&&i.default.setupSlider("#z",{value:r[2],slide:this._updatePosition(2),max:this._renderer._gl.canvas.height}),e.has("angleX")&&i.default.setupSlider("#angleX",{value:(0,n.radToDeg)(a[0]),slide:this._updateRotation(0),max:90}),e.has("angleY")&&i.default.setupSlider("#angleY",{value:(0,n.radToDeg)(a[1]),slide:this._updateRotation(1),max:360}),e.has("angleZ")&&i.default.setupSlider("#angleZ",{value:(0,n.radToDeg)(a[2]),slide:this._updateRotation(2),max:360}),e.has("scaleX")&&i.default.setupSlider("#scaleX",{value:o[0],slide:this._updateScale(0),min:1,max:40,step:.01,precision:2}),e.has("scaleY")&&i.default.setupSlider("#scaleY",{value:o[1],slide:this._updateScale(1),min:1,max:40,step:.01,precision:2}),e.has("scaleZ")&&i.default.setupSlider("#scaleZ",{value:o[2],slide:this._updateScale(2),min:1,max:40,step:.01,precision:2}),e.has("scaleXY")&&i.default.setupSlider("#scaleXY",{value:o[2],slide:this._updateXYScale(),min:.03,max:5,step:.01,precision:2})},t.prototype._updatePosition=function(t){var e=this;return function(r,o){e._renderer.getTranslation()[t]=o.value,e._renderer.drawScene()}},t.prototype._updateRotation=function(t){var e=this;return function(r,o){var i=e._renderer.getRotation(),a=o.value,s=(0,n.degToRad)(a);i[t]=s,e._renderer.drawScene()}},t.prototype._updateScale=function(t){var e=this;return function(r,o){e._renderer.getScale()[t]=o.value,e._renderer.drawScene()}},t.prototype._updateXYScale=function(){var t=this;return function(e,r){var o=t._renderer.getScale();o[0]=r.value,o[1]=r.value,t._renderer.drawScene()}},t}();e.default=a},6086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=void 0,e.clamp=function(t,e,r){return Math.min(Math.max(t,e),r)}},561:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="#define MAX_TEXTURE_IMAGE_UNITS 16\nprecision mediump float;\n\nvarying vec4 vVertexColor;\nvarying float vTextureIndex;\nvarying vec2 vVertexTextureCoords;\n\nuniform sampler2D uTextures[MAX_TEXTURE_IMAGE_UNITS];\n\nvoid main() {\n  if (vTextureIndex < 0.0) {\n    gl_FragColor = vVertexColor;\n    return;\n  }\n  int v = int(vTextureIndex);\n  for (int i = 0; i < MAX_TEXTURE_IMAGE_UNITS; i++) {\n    if (i != v) {\n      continue;\n    }\n    gl_FragColor = texture2D(uTextures[i], vVertexTextureCoords);\n    return;\n  }\n}\n"},4092:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nattribute vec4 aVertexPosition;\nattribute vec4 aVertexColor;\nattribute float aTextureIndex;\nattribute vec2 aVertexTextureCoords;\n\n// A matrix to transform the positions by\nuniform mat4 uViewportTransform;\n\nvarying vec4 vVertexColor;\nvarying float vTextureIndex;\nvarying vec2 vVertexTextureCoords;\n\n// all shaders have a main function\nvoid main() {\n  vVertexColor = aVertexColor;\n  vTextureIndex = aTextureIndex;\n  vVertexTextureCoords = aVertexTextureCoords;\n  // Multiply the position by the matrix.\n  gl_Position = uViewportTransform * aVertexPosition;\n}\n"},9335:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="precision mediump float;\n\nuniform float uDevicePixelRatio;\nuniform vec2 uOffset;\nuniform vec2 uPitch;\n\nvoid main() {\n  if (int(mod(gl_FragCoord.x / uDevicePixelRatio - uOffset[0], uPitch[0])) == 0 ||\n      int(mod(gl_FragCoord.y / uDevicePixelRatio + uOffset[1], uPitch[1])) == 0) {\n    gl_FragColor = vec4(0.4, 0.4, 0.4, 0.5);\n  } else {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n  }\n}\n"},764:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="attribute vec4 aVertexPosition;\n\nvoid main() {\n  gl_Position = aVertexPosition;\n}\n"},8785:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="precision mediump float;\n\nvarying vec2 vVertexTextureCoords;\n\nuniform sampler2D uTexture;\n\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vVertexTextureCoords);\n}\n"},7016:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nattribute vec4 aVertexPosition;\nattribute vec2 aVertexTextureCoords;\n\n// A matrix to transform the positions by\nuniform mat4 uViewportTransform;\nuniform mat4 uLocalTransform;\n\nvarying vec2 vVertexTextureCoords;\n\n// all shaders have a main function\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = uViewportTransform * uLocalTransform * aVertexPosition;\n  vVertexTextureCoords = aVertexTextureCoords;\n}\n"},659:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="precision mediump float;\n\nvoid main() {\n  gl_FragColor = vec4(0.8, 0.8, 0.8, 1.0);\n}\n"},2559:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nattribute vec4 aVertexPosition;\n\n// A matrix to transform the positions by\nuniform mat4 uViewportTransform;\nuniform mat4 uLocalTransform;\n\n// all shaders have a main function\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = uViewportTransform * uLocalTransform * aVertexPosition;\n}\n"},3670:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="precision mediump float;\n\nuniform vec4 uColor;\n\nvoid main() {\n  gl_FragColor = uColor;\n}\n"},280:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nattribute vec4 aVertexPosition;\n\n// A matrix to transform the positions by\nuniform mat4 uViewportTransform;\nuniform mat4 uLocalTransform;\n\n// all shaders have a main function\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = uViewportTransform * uLocalTransform * aVertexPosition;\n}\n"},4930:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="precision mediump float;\n\nuniform vec4 u_color;\n\n// we need to declare an output for the fragment shader\nout vec4 outColor;\n\nvoid main() {\n  outColor = u_color;\n}\n"},7086:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nin vec4 a_position;\n\n// A matrix to transform the positions by\nuniform mat4 u_matrix;\n\n// all shaders have a main function\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = u_matrix * a_position;\n}\n"},9587:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="precision mediump float;\nvoid main() {\n  // The transparent background is for showing the lower layers.\n  gl_FragColor = vec4(0, 0, 0, 0);\n}\n"},3717:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});const o="// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nattribute vec4 aVertexPosition;\n\n// A matrix to transform the positions by\nuniform mat4 uViewportTransform;\nuniform mat4 uLocalTransform;\n\n// all shaders have a main function\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = uViewportTransform * uLocalTransform * aVertexPosition;\n}\n"}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=(e,r,n,i)=>{if(!r){var a=1/0;for(c=0;c<t.length;c++){for(var[r,n,i]=t[c],s=!0,u=0;u<r.length;u++)(!1&i||a>=i)&&Object.keys(o.O).every((t=>o.O[t](r[u])))?r.splice(u--,1):(s=!1,i<a&&(a=i));if(s){t.splice(c--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,n,i]},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={401:0};o.O.j=e=>0===t[e];var e=(e,r)=>{var n,i,[a,s,u]=r,l=0;if(a.some((e=>0!==t[e]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(u)var c=u(o)}for(e&&e(r);l<a.length;l++)i=a[l],o.o(t,i)&&t[i]&&t[i][0](),t[a[l]]=0;return o.O(c)},r=self.webpackChunkenjoy_life3000=self.webpackChunkenjoy_life3000||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var n=o.O(void 0,[258],(()=>o(5459)));n=o.O(n)})();