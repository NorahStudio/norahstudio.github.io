(()=>{"use strict";var t,e={3117:function(t,e,i){var a=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var a,o=0,n=e.length;o<n;o++)!a&&o in e||(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Facing=e.setupScene=void 0;var o,n=i(9950),r=[1,0,0],c=[0,1,0],s=[0,0,1],g=[1,1,0],l=[.5,0,1],p=[0,1,1],f=[1,.5,0],d=[-.5,.5,-.5],h=[-.5,-.5,-.5],u=[.5,-.5,-.5],v=[-.5,.5,.5],m=[-.5,-.5,.5],R=[.5,-.5,.5],_=(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a([],d,!0),h,!0),h,!0),u,!0),u,!0),d,!0),v,!0),m,!0),m,!0),R,!0),R,!0),v,!0),d,!0),v,!0),h,!0),m,!0),u,!0),R,!0),a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a([],d,!0),h,!0),u,!0),v,!0),R,!0),m,!0),d,!0),u,!0),R,!0),d,!0),R,!0),v,!0),h,!0),m,!0),R,!0),h,!0),R,!0),u,!0),d,!0),v,!0),m,!0),d,!0),m,!0),h,!0));function y(t){for(var e=a(a(a(a(a(a(a(a(a(a(a(a([],r,!0),f,!0),g,!0),c,!0),p,!0),s,!0),l,!0),s,!0),p,!0),c,!0),g,!0),f,!0),i=[],o=0;o<t;o++)i.push.apply(i,e);return i}e.setupScene=function(t){for(var e=t.brickPositions,i=e.length,a=new Float32Array(16*i),r=[],c=0;c<i;++c){var s=16*c*4;r.push(new Float32Array(a.buffer,s,16))}var g,l;return r.forEach((function(t,i){switch(n.m4.translation2(100*e[i].position[0],100*e[i].position[1],100*e[i].position[2],t),e[i].facing){case o.EU:n.m4.yRotate2(t,(0,n.degToRad)(0),t);break;case o.NU:n.m4.yRotate2(t,(0,n.degToRad)(270),t);break;case o.WU:n.m4.yRotate2(t,(0,n.degToRad)(180),t);break;case o.SU:n.m4.yRotate2(t,(0,n.degToRad)(90),t);break;case o.EN:n.m4.xRotate2(t,(0,n.degToRad)(90),t);break;case o.WN:n.m4.yRotate2(t,(0,n.degToRad)(270),t),n.m4.xRotate2(t,(0,n.degToRad)(90),t);break;case o.WS:n.m4.yRotate2(t,(0,n.degToRad)(180),t),n.m4.xRotate2(t,(0,n.degToRad)(90),t);break;case o.ES:n.m4.xRotate2(t,(0,n.degToRad)(270),t);break;case o.ED:n.m4.xRotate2(t,(0,n.degToRad)(180),t),n.m4.yRotate2(t,(0,n.degToRad)(0),t);break;case o.ND:n.m4.xRotate2(t,(0,n.degToRad)(180),t),n.m4.yRotate2(t,(0,n.degToRad)(90),t);break;case o.WD:n.m4.xRotate2(t,(0,n.degToRad)(180),t),n.m4.yRotate2(t,(0,n.degToRad)(180),t);break;case o.SD:n.m4.xRotate2(t,(0,n.degToRad)(180),t),n.m4.yRotate2(t,(0,n.degToRad)(270),t);break;default:throw new Error("Unknown Facing: ".concat(e[i].facing))}})),{numInstances:i,placeData:a,places:r,unitBrick:(g=e.length/12,{unitPixel:100,geometry:new Float32Array((l=100,_.map((function(t){return t*l})))),color:new Float32Array(y(Math.ceil(g)))})}},function(t){t[t.EU=0]="EU",t[t.NU=1]="NU",t[t.WU=2]="WU",t[t.SU=3]="SU",t[t.ED=4]="ED",t[t.ND=5]="ND",t[t.WD=6]="WD",t[t.SD=7]="SD",t[t.EN=8]="EN",t[t.WN=9]="WN",t[t.WS=10]="WS",t[t.ES=11]="ES"}(o=e.Facing||(e.Facing={}))},7361:(t,e,i)=>{var a=i(4329),o=i(5566),n=window;n._debug||(n._debug={}),function(){var t=document.getElementById("canvas");document.body.appendChild(t);var e=new o.BrickRenderer({canvas:t,isOrthographic:!0});e.drawScene(),(0,a.setupUi)({renderer:e,canvasWidth:t.width,canvasHeight:t.height})}()},5566:function(t,e,i){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BrickRenderer=void 0;var o=i(9950),n=i(2276),r=i(4148),c=a(i(7205)),s=a(i(2143)),g=i(3793),l=i(3117),p=i(9005),f=function(){function t(t){var e=t.canvas,i=t.isOrthographic;this.canvas=e;var a=(0,p.loadScene)(),n=(0,l.setupScene)(a),f=this._updateProjection({isOrthographic:null!=a.isOrthographic?a.isOrthographic:i,rotation:null!=a.camera?a.camera:[(0,o.degToRad)(40),(0,o.degToRad)(25),(0,o.degToRad)(0)]}),d=f.projection,h=f.projectionMatrix;this.projection=d,this.projectionMatrix=h;var u=this.projection,v=u.translation,m=u.rotation,R=u.scale;this._translation=v,this._rotation=m,this._scale=R;var _=r.TypeChecker.checkExists(e.getContext("webgl",{antialias:!0}));this.gl=_,this.extAngleInstancedArrays=r.TypeChecker.checkExists(_.getExtension("ANGLE_instanced_arrays"));var y=(0,g.createProgram)(_,c.default,s.default);this.program=y;var F=n.unitBrick,b=F.geometry,E=F.color;this.geometryLength=b.length,this.geometryPosLocation=_.getAttribLocation(y,"a_geometryPos"),this.geometryPosBuffer=r.TypeChecker.checkExists(_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,this.geometryPosBuffer),_.bufferData(_.ARRAY_BUFFER,b,_.STATIC_DRAW),this.colorLocation=_.getAttribLocation(y,"a_color"),this.colorBuffer=r.TypeChecker.checkExists(_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,this.colorBuffer),_.bufferData(_.ARRAY_BUFFER,E,_.STATIC_DRAW),this.placeData=n.placeData,this.places=n.places,this.numInstances=n.numInstances,this.positionLocation=_.getAttribLocation(y,"a_postion"),this.positionBuffer=r.TypeChecker.checkExists(_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,this.positionBuffer),_.bufferData(_.ARRAY_BUFFER,E,_.STATIC_DRAW),_.bufferData(_.ARRAY_BUFFER,this.placeData.byteLength,_.DYNAMIC_DRAW),this.matrixLocation=r.TypeChecker.checkExists(_.getUniformLocation(y,"u_matrix"))}return t.prototype.isOrthographic=function(){return"orthographic"===this.projection.type},t.prototype.updateProjection=function(t){var e=this._updateProjection({isOrthographic:t,rotation:this.rotation}),i=e.projection,a=e.projectionMatrix;this.projection=i,this.projectionMatrix=a;var o=this.projection,n=o.translation,r=o.rotation,c=o.scale;this._translation[0]=n[0],this._translation[1]=n[1],this._translation[2]=n[2],this._rotation[0]=r[0],this._rotation[1]=r[1],this._rotation[2]=r[2],this._scale[0]=c[0],this._scale[1]=c[1],this._scale[2]=c[2]},t.prototype._updateProjection=function(t){var e=t.isOrthographic,i=t.rotation,a=this.canvas,n=e?{type:"orthographic",translation:[a.clientWidth/2,a.clientHeight/2,0],rotation:i,scale:[1,1,1]}:{type:"perspective",translation:[a.clientWidth/2,a.clientHeight/2,-400],rotation:i,scale:[1,1,1],fieldOfViewRadians:(0,o.degToRad)(100)};switch(n.type){case"orthographic":return{projection:n,projectionMatrix:o.m4.projection(this.canvas.clientWidth,this.canvas.clientHeight,4e3)};case"perspective":var r=n.fieldOfViewRadians,c=a.clientWidth/a.clientHeight,s=o.m4.perspective(r,c,1,2e3);return{projection:n,projectionMatrix:s=o.m4.translate(s,a.clientWidth/-2,a.clientHeight/-2,0)};default:throw new Error}},Object.defineProperty(t.prototype,"translation",{get:function(){return this._translation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),t.prototype.drawScene=function(){var t=this.gl,e=this.extAngleInstancedArrays;(0,n.resizeCanvasToDisplaySize)(this.canvas),t.viewport(0,0,this.canvas.width,this.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.useProgram(this.program),t.enableVertexAttribArray(this.geometryPosLocation),t.bindBuffer(t.ARRAY_BUFFER,this.geometryPosBuffer);var i=3,a=t.FLOAT,r=!1,c=0;t.vertexAttribPointer(this.geometryPosLocation,i,a,r,c,0),t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.placeData);for(var s=0;s<4;++s){var g=this.positionLocation+s;t.enableVertexAttribArray(g);var l=16*s;t.vertexAttribPointer(g,4,t.FLOAT,!1,64,l),e.vertexAttribDivisorANGLE(g,1)}t.enableVertexAttribArray(this.colorLocation),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),i=3,a=t.FLOAT,r=!1,c=0,t.vertexAttribPointer(this.colorLocation,i,a,r,c,0),e.vertexAttribDivisorANGLE(this.colorLocation,1);var p=o.m4.translate(this.projectionMatrix,this._translation[0],this._translation[1],this._translation[2]);p=o.m4.xRotate(p,this._rotation[0]+(0,o.degToRad)(0)),p=o.m4.yRotate(p,this._rotation[1]+(0,o.degToRad)(0)),p=o.m4.zRotate(p,this._rotation[2]),p=o.m4.scale(p,this._scale[0],this._scale[1],this._scale[2]),t.uniformMatrix4fv(this.matrixLocation,!1,p);var f=t.TRIANGLES,d=this.geometryLength/3,h=this.numInstances;e.drawArraysInstancedANGLE(f,0,d,h)},t}();e.BrickRenderer=f},9005:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.loadScene=void 0;var a=i(9950),o=i(3117);e.loadScene=function(){var t=[(0,a.degToRad)(51),(0,a.degToRad)(-186),(0,a.degToRad)(11)];return{brickPositions:[{position:[.5,1.5,.5],facing:o.Facing.ES},{position:[-.5,1.5,.5],facing:o.Facing.WN},{position:[-.5,1.5,-.5],facing:o.Facing.ES},{position:[-1.5,1.5,-.5],facing:o.Facing.WU},{position:[-1.5,.5,-.5],facing:o.Facing.ND},{position:[-1.5,.5,-1.5],facing:o.Facing.WS},{position:[-.5,.5,-1.5],facing:o.Facing.ED},{position:[-.5,1.5,-1.5],facing:o.Facing.SU},{position:[-.5,1.5,-.5],facing:o.Facing.WN},{position:[.5,1.5,-.5],facing:o.Facing.ES},{position:[.5,1.5,.5],facing:o.Facing.WN},{position:[1.5,1.5,.5],facing:o.Facing.EU},{position:[1.5,.5,.5],facing:o.Facing.ND},{position:[1.5,.5,-.5],facing:o.Facing.SU},{position:[1.5,-.5,-.5],facing:o.Facing.ND},{position:[1.5,-.5,-1.5],facing:o.Facing.ES},{position:[.5,-.5,-1.5],facing:o.Facing.WD},{position:[.5,.5,-1.5],facing:o.Facing.EU},{position:[-.5,.5,-1.5],facing:o.Facing.WU},{position:[-.5,-.5,-1.5],facing:o.Facing.WD},{position:[.5,-.5,-1.5],facing:o.Facing.EU},{position:[.5,-1.5,-1.5],facing:o.Facing.SD},{position:[.5,-1.5,-.5],facing:o.Facing.EN},{position:[-.5,-1.5,-.5],facing:o.Facing.WS},{position:[-.5,-1.5,.5],facing:o.Facing.WN},{position:[.5,-1.5,.5],facing:o.Facing.EN},{position:[.5,-1.5,-.5],facing:o.Facing.WS},{position:[1.5,-1.5,-.5],facing:o.Facing.ED},{position:[1.5,-.5,-.5],facing:o.Facing.SU},{position:[1.5,-.5,.5],facing:o.Facing.ND},{position:[1.5,.5,.5],facing:o.Facing.SU},{position:[1.5,.5,1.5],facing:o.Facing.EN},{position:[.5,.5,1.5],facing:o.Facing.WU},{position:[.5,-.5,1.5],facing:o.Facing.ED},{position:[-.5,-.5,1.5],facing:o.Facing.WU},{position:[-.5,-1.5,1.5],facing:o.Facing.ND},{position:[-.5,-1.5,.5],facing:o.Facing.ES},{position:[-1.5,-1.5,.5],facing:o.Facing.WD},{position:[-1.5,-.5,.5],facing:o.Facing.NU},{position:[-1.5,-.5,-.5],facing:o.Facing.SD},{position:[-1.5,.5,-.5],facing:o.Facing.SU},{position:[-1.5,.5,.5],facing:o.Facing.NU},{position:[-1.5,-.5,.5],facing:o.Facing.SD},{position:[-1.5,-.5,1.5],facing:o.Facing.WN},{position:[-.5,-.5,1.5],facing:o.Facing.ED},{position:[-.5,.5,1.5],facing:o.Facing.WU},{position:[.5,.5,1.5],facing:o.Facing.ED},{position:[.5,1.5,1.5],facing:o.Facing.NU}],isOrthographic:!0,camera:t}}},4329:function(t,e,i){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.setupUi=void 0;var o=i(9950),n=a(i(7393));e.setupUi=function(t){var e=t.renderer,i=t.canvasWidth,a=t.canvasHeight,r=e.translation,c=e.rotation,s=document.getElementById("ui"),g=n.default.makeCheckbox({name:"Orthographic projection",value:e.isOrthographic(),change:function(t,i){e.updateProjection(i.value),e.drawScene()}}).elem;function l(t){return function(i,a){r[t]=a.value,e.drawScene()}}function p(t){return function(i,a){var n=(0,o.degToRad)(a.value);c[t]=n,e.drawScene()}}null==s||s.prepend(g),n.default.setupSlider("#x",{name:"Viewport X",value:r[0],slide:l(0),max:i}),n.default.setupSlider("#y",{name:"Viewport Y",value:r[1],slide:l(1),max:a}),n.default.setupSlider("#angleX",{name:"Viewport angle X",value:(0,o.radToDeg)(c[0]),slide:p(0),min:-360,max:360}),n.default.setupSlider("#angleY",{name:"Viewport angle Y",value:(0,o.radToDeg)(c[1]),slide:p(1),min:-360,max:360}),n.default.setupSlider("#angleZ",{name:"Viewport angle Z",value:(0,o.radToDeg)(c[2]),slide:p(2),min:-360,max:360})}},3793:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.loadImage=e.createProgram=void 0;var a=i(4148);function o(t,e,i){var o=a.TypeChecker.checkExists(t.createShader(i));return t.shaderSource(o,e),t.compileShader(o),o}e.createProgram=function(t,e,i){var n=a.TypeChecker.checkExists(t.createProgram()),r=o(t,e,t.VERTEX_SHADER),c=o(t,i,t.FRAGMENT_SHADER);t.attachShader(n,r),t.deleteShader(r),t.attachShader(n,c),t.deleteShader(c),t.linkProgram(n);var s=t.getProgramInfoLog(n);return s&&console.log(s),(s=t.getShaderInfoLog(r))&&console.log(s),(s=t.getShaderInfoLog(c))&&console.log(s),n},e.loadImage=function(t){var e=new Image;return e.src=t,new Promise((function(t){e.addEventListener("load",(function(){t(e)}))}))}},2143:(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});const a="precision mediump float;\n\n// Passed in from the vertex shader.\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = v_color;\n}\n"},7205:(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});const a="attribute vec4 a_geometryPos;\nattribute vec4 a_color;\nattribute mat4 a_postion;\n\nuniform mat4 u_matrix;\n\nvarying vec4 v_color;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = u_matrix * a_postion * a_geometryPos;\n\n  // Pass the color to the fragment shader.\n  v_color = a_color;\n}\n"}},i={};function a(t){var o=i[t];if(void 0!==o)return o.exports;var n=i[t]={exports:{}};return e[t].call(n.exports,n,n.exports,a),n.exports}a.m=e,t=[],a.O=(e,i,o,n)=>{if(!i){var r=1/0;for(l=0;l<t.length;l++){for(var[i,o,n]=t[l],c=!0,s=0;s<i.length;s++)(!1&n||r>=n)&&Object.keys(a.O).every((t=>a.O[t](i[s])))?i.splice(s--,1):(c=!1,n<r&&(r=n));if(c){t.splice(l--,1);var g=o();void 0!==g&&(e=g)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[i,o,n]},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={954:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var o,n,[r,c,s]=i,g=0;if(r.some((e=>0!==t[e]))){for(o in c)a.o(c,o)&&(a.m[o]=c[o]);if(s)var l=s(a)}for(e&&e(i);g<r.length;g++)n=r[g],a.o(t,n)&&t[n]&&t[n][0](),t[r[g]]=0;return a.O(l)},i=self.webpackChunkenjoy_life3000=self.webpackChunkenjoy_life3000||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=a.O(void 0,[258],(()=>a(7361)));o=a.O(o)})();