(()=>{"use strict";var e,t={3117:function(e,t){var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var a,i=0,o=t.length;i<o;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createScene=void 0;var a=[1,0,0],i=[0,1,0],o=[0,0,1],n=[1,1,0],s=[.5,0,1],c=[0,1,1],l=[1,.5,0];t.createScene=function(){var e,t;return{unitPixel:50,geometry:new Float32Array((t=50,[-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,-.5,-.5,.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5].map((function(e){return e*t})))),color:new Float32Array((e=r(r(r(r(r(r(r(r(r(r(r(r([],a,!0),l,!0),n,!0),i,!0),c,!0),o,!0),s,!0),o,!0),c,!0),i,!0),n,!0),l,!0),e))}}},7361:(e,t,r)=>{var a=r(9950),i=r(4329),o=r(5566),n=window;n._debug||(n._debug={}),function(){var e=document.getElementById("canvas");document.body.appendChild(e);var t=new o.BrickRenderer({canvas:e,projection:{type:"perspective",translation:[0,0,-400],rotation:[(0,a.degToRad)(40),(0,a.degToRad)(25),(0,a.degToRad)(0)],scale:[1,1,1],fieldOfViewRadians:(0,a.degToRad)(100)}});t.drawScene(),(0,i.setupUi)({renderer:t,canvasWidth:e.width,canvasHeight:e.height})}()},5566:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrickRenderer=void 0;var i=r(9950),o=r(2276),n=r(4148),s=a(r(7205)),c=a(r(2143)),l=r(3793),u=r(3117),d=function(){function e(e){var t=e.canvas,r=e.projection;this.canvas=t;var a=r.translation,o=r.rotation,d=r.scale;this.projection=r,this._translation=a,this._rotation=o,this._scale=d;var f=n.TypeChecker.checkExists(t.getContext("webgl",{antialias:!0}));this.gl=f,this.extAngleInstancedArrays=n.TypeChecker.checkExists(f.getExtension("ANGLE_instanced_arrays"));var h=(0,l.createProgram)(f,s.default,c.default);this.program=h;var v=(0,u.createScene)(),p=v.geometry,g=v.color,m=v.unitPixel;this.geometryLength=p.length,this.unitPixel=m,this.geometryPosLocation=f.getAttribLocation(h,"a_geometryPos"),this.geometryPosBuffer=n.TypeChecker.checkExists(f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,this.geometryPosBuffer),f.bufferData(f.ARRAY_BUFFER,p,f.STATIC_DRAW),this.colorLocation=f.getAttribLocation(h,"a_color"),this.colorBuffer=n.TypeChecker.checkExists(f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,this.colorBuffer),f.bufferData(f.ARRAY_BUFFER,g,f.STATIC_DRAW),this.numInstances=12,this.placeData=new Float32Array(16*this.numInstances),this.places=[];for(var _=0;_<this.numInstances;++_){var y=16*_*4;this.places.push(new Float32Array(this.placeData.buffer,y,16))}switch(this.positionLocation=f.getAttribLocation(h,"a_postion"),this.positionBuffer=n.TypeChecker.checkExists(f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,this.positionBuffer),f.bufferData(f.ARRAY_BUFFER,g,f.STATIC_DRAW),f.bufferData(f.ARRAY_BUFFER,this.placeData.byteLength,f.DYNAMIC_DRAW),r.type){case"orthographic":this.projectionMatrix=i.m4.projection(this.canvas.clientWidth,this.canvas.clientHeight,4e3);break;case"perspective":var A=r.fieldOfViewRadians,b=f.canvas.clientWidth/f.canvas.clientHeight;this.projectionMatrix=i.m4.perspective(A,b,1,2e3);break;default:throw new Error}this.matrixLocation=n.TypeChecker.checkExists(f.getUniformLocation(h,"u_matrix"))}return Object.defineProperty(e.prototype,"translation",{get:function(){return this._translation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),e.prototype.drawScene=function(){var e=this,t=this.gl,r=this.extAngleInstancedArrays;(0,o.resizeCanvasToDisplaySize)(this.canvas),t.viewport(0,0,this.canvas.width,this.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.useProgram(this.program),t.enableVertexAttribArray(this.geometryPosLocation),t.bindBuffer(t.ARRAY_BUFFER,this.geometryPosBuffer);var a=3,n=t.FLOAT,s=!1,c=0;t.vertexAttribPointer(this.geometryPosLocation,a,n,s,c,0),this.places.forEach((function(t,r){i.m4.translation2(r*Math.SQRT2*e.unitPixel/2,(r%2?-1:1)*Math.SQRT2*e.unitPixel/4,0,t),i.m4.zRotate2(t,(0,i.degToRad)(135+180*r),t)})),t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.placeData);for(var l=0;l<4;++l){var u=this.positionLocation+l;t.enableVertexAttribArray(u);var d=16*l;t.vertexAttribPointer(u,4,t.FLOAT,!1,64,d),r.vertexAttribDivisorANGLE(u,1)}t.enableVertexAttribArray(this.colorLocation),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),a=3,n=t.FLOAT,s=!1,c=0,t.vertexAttribPointer(this.colorLocation,a,n,s,c,0),r.vertexAttribDivisorANGLE(this.colorLocation,1);var f=i.m4.translate(this.projectionMatrix,this._translation[0],this._translation[1],this._translation[2]);f=i.m4.xRotate(f,this._rotation[0]),f=i.m4.yRotate(f,this._rotation[1]),f=i.m4.zRotate(f,this._rotation[2]),f=i.m4.scale(f,this._scale[0],this._scale[1],this._scale[2]),t.uniformMatrix4fv(this.matrixLocation,!1,f);var h=t.TRIANGLES,v=this.geometryLength/3,p=this.numInstances;r.drawArraysInstancedANGLE(h,0,v,p)},e}();t.BrickRenderer=d},4329:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setupUi=void 0;var i=r(9950),o=a(r(7393));t.setupUi=function(e){var t=e.renderer,r=e.canvasWidth,a=e.canvasHeight,n=t.translation,s=t.rotation,c=t.scale;function l(e){return function(r,a){n[e]=a.value,t.drawScene()}}function u(e){return function(r,a){var o=(0,i.degToRad)(a.value);s[e]=o,t.drawScene()}}function d(e){return function(r,a){c[e]=a.value,t.drawScene()}}o.default.setupSlider("#x",{value:n[0],slide:l(0),max:r}),o.default.setupSlider("#y",{value:n[1],slide:l(1),max:a}),o.default.setupSlider("#z",{value:n[2],slide:l(2),max:a}),o.default.setupSlider("#angleX",{value:(0,i.radToDeg)(s[0]),slide:u(0),max:360}),o.default.setupSlider("#angleY",{value:(0,i.radToDeg)(s[1]),slide:u(1),max:360}),o.default.setupSlider("#angleZ",{value:(0,i.radToDeg)(s[2]),slide:u(2),max:360}),o.default.setupSlider("#scaleX",{value:c[0],slide:d(0),min:-5,max:5,step:.01,precision:2}),o.default.setupSlider("#scaleY",{value:c[1],slide:d(1),min:-5,max:5,step:.01,precision:2}),o.default.setupSlider("#scaleZ",{value:c[2],slide:d(2),min:-5,max:5,step:.01,precision:2})}},3793:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=t.createProgram=void 0;var a=r(4148);function i(e,t,r){var i=a.TypeChecker.checkExists(e.createShader(r));return e.shaderSource(i,t),e.compileShader(i),i}t.createProgram=function(e,t,r){var o=a.TypeChecker.checkExists(e.createProgram()),n=i(e,t,e.VERTEX_SHADER),s=i(e,r,e.FRAGMENT_SHADER);e.attachShader(o,n),e.deleteShader(n),e.attachShader(o,s),e.deleteShader(s),e.linkProgram(o);var c=e.getProgramInfoLog(o);return c&&console.log(c),(c=e.getShaderInfoLog(n))&&console.log(c),(c=e.getShaderInfoLog(s))&&console.log(c),o},t.loadImage=function(e){var t=new Image;return t.src=e,new Promise((function(e){t.addEventListener("load",(function(){e(t)}))}))}},2143:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});const a="precision mediump float;\n\n// Passed in from the vertex shader.\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = v_color;\n}\n"},7205:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});const a="attribute vec4 a_geometryPos;\nattribute vec4 a_color;\nattribute mat4 a_postion;\n\nuniform mat4 u_matrix;\n\nvarying vec4 v_color;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = u_matrix * a_postion * a_geometryPos;\n\n  // Pass the color to the fragment shader.\n  v_color = a_color;\n}\n"}},r={};function a(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,r,i,o)=>{if(!r){var n=1/0;for(u=0;u<e.length;u++){for(var[r,i,o]=e[u],s=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](r[c])))?r.splice(c--,1):(s=!1,o<n&&(n=o));if(s){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={954:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[n,s,c]=r,l=0;if(n.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var u=c(a)}for(t&&t(r);l<n.length;l++)o=n[l],a.o(e,o)&&e[o]&&e[o][0](),e[n[l]]=0;return a.O(u)},r=self.webpackChunkenjoy_life3000=self.webpackChunkenjoy_life3000||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=a.O(void 0,[258],(()=>a(7361)));i=a.O(i)})();